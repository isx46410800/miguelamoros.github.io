<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Miguel Amorós">
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Python - Miguel's Notes</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Python";
    var mkdocs_page_input_path = "python.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Miguel's Notes</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">MkDocs</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../linux/">Linux</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../soporte/">Soporte TI</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../vscode/">VSCode</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../gitlab/">Gitlab</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Python</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#shebang">Shebang</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#server-python">Server Python</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#mostrar-algo">Mostrar algo</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#mostrar-algo-con-formato">Mostrar algo con formato</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#importar-librerias">Importar librerias</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#variables">Variables</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#condicional">Condicional</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#bucle-for-iterar-elementos">Bucle for (iterar elementos)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#bucle-while">Bucle while</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#funciones">Funciones</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#test-main">Test main</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#objetos">Objetos</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#mayusculas-minusculas-letra-capital">Mayusculas, minusculas, letra capital</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ver-tipo-de-dato">Ver tipo de dato</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#listas">Listas</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tuplas">Tuplas</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#diccionarios">Diccionarios</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#rangos">Rangos</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#list-comprension">List Comprension</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#len">Len</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#objetos_1">Objetos</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ficheros">Ficheros</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#modulos">Módulos</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../java/">Java</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../bash_scripting/">BashScripting</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../powershell/">PowerShell/CMD</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../virtuales/">M.Virtuales</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../docker/">Docker</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../kubernetes/">Kubernetes</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../openshift/">Openshift</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../terraform/">Terraform</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../aws/">AWS</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../jenkins/">Jenkins</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../ansible/">Ansible</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../devops/">Devops</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../testing/">Testing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../monitorizacion/">Monitorizacion</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../tomcat/">Tomcat</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../elastic/">ELKS</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../azure/">Azure</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../office/">Office 365</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../markdown/">Markdown</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../bbdd/">Base de datos</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../sap/">SAP</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../ldap/">LDAP</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../pam/">PAM</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../samba/">SAMBA</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../kerberos/">KERBEROS</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../lvm/">LVM/RAID</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../backup/">Backup</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../routing/">Routing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../files/">Archivos Destacados</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../windows/">Windows</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../servidores/">Servidores</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../taller/">Taller</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Miguel's Notes</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Python</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/isx46410800/miguelamoros.github.io/edit/master/docs/python.md"> Edit on isx46410800/python</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="intro-programacion-python">Intro Programación PYTHON</h1>
<h2 id="shebang">Shebang</h2>
<pre><code># !/usr/bin/python3
# -*-coding: utf-8-*-
</code></pre>
<h2 id="server-python">Server Python</h2>
<p><code>python -m SimpleHTTPDServer 80</code>  </p>
<h2 id="mostrar-algo">Mostrar algo</h2>
<pre><code>print(&quot;Uso windows&quot;)
</code></pre>
<h2 id="mostrar-algo-con-formato">Mostrar algo con formato</h2>
<pre><code>print(&quot;Hello World, my name is {}&quot; .format(name))
print(f'My Python version is {version}')
</code></pre>
<h2 id="importar-librerias">Importar librerias</h2>
<pre><code>import platform
from xxxx import xx
</code></pre>
<h2 id="variables">Variables</h2>
<pre><code>x=100
y=True
z=&quot;Miguel&quot;
</code></pre>
<h2 id="condicional">Condicional</h2>
<pre><code>x = 25
y = 15
if x &gt; y:
    print(&quot;x is greater than y: where x is {} and y {}&quot; .format(x,y))
elif x == y:
    print(&quot;x and y are the same: where x is {} and y {}&quot; .format(x,y))
else:
    print(&quot;x is lesser than y: where x is {} and y {}&quot; .format(x,y))
</code></pre>
<pre><code>tengoHambre = True
y = &quot;Necesito comer&quot; if tengoHambre else &quot;solo necesito beber&quot;
</code></pre>
<pre><code>a = True
b = False
# comparamos a y b
if a and b:
    print('Expresiones son TRUE')
else:
    print(&quot;Expresiones son False&quot;)
</code></pre>
<h2 id="bucle-for-iterar-elementos">Bucle for (iterar elementos)</h2>
<pre><code>food = [&quot;breakfast&quot;, &quot;lunch&quot;, &quot;snack&quot;, &quot;dinner&quot;]
for i in food:
    print(i)
</code></pre>
<h2 id="bucle-while">Bucle while</h2>
<pre><code>food = [&quot;breakfast&quot;, &quot;lunch&quot;, &quot;snack&quot;, &quot;dinner&quot;]
while m &lt; 4:
    print(food[m])
    m +=1
</code></pre>
<h2 id="funciones">Funciones</h2>
<pre><code>def message():
    print(&quot;Mi version de python es la {}&quot; .format(platform.python_version()))
message()
def operation(n=25):
    print(n)
    return n*2
</code></pre>
<h2 id="test-main">Test main</h2>
<pre><code>if __name__ == &quot;__main__&quot;:
    runMe()
    name(&quot;Miguel&quot;)
    name(2)
    print(x)
</code></pre>
<h2 id="objetos">Objetos</h2>
<pre><code>class Time:
    h = &quot;horas&quot;
    m = &quot;minutos&quot;
    s = &quot;segundos&quot;
    def hours(self):
        print(self.h)

    def minuts(self):
        print(self.m)

    def seconds(self):
        print(self.s)
def main2():
    how_time = Time()
    how_time.hours()
    how_time.minuts()
    how_time.seconds()
main2()
</code></pre>
<h2 id="mayusculas-minusculas-letra-capital">Mayusculas, minusculas, letra capital</h2>
<pre><code>mayus = &quot;hello world&quot;.upper()
minus = &quot;hello world&quot;.lower()
capi = &quot;hello world&quot;.capitalize()
</code></pre>
<h2 id="ver-tipo-de-dato">Ver tipo de dato</h2>
<pre><code>print(type(w)) #float
</code></pre>
<h2 id="listas">Listas</h2>
<pre><code>x = [1,2,3,4]
print(x[2])
x[2] = 10
for i in x:
    print(i)
</code></pre>
<pre><code># LISTA ACCIONES -- TUPLAS SON INMUTABLES Y NO SE PUEDE
def main():
    lista = ['perro', 'gato', 'cerdo', 'caballo']
    lista2 = ['perro', 'gato', 'cerdo', 'caballo']
    print(lista[1]) # gato
    print(lista[1:3]) # gato, cerdo
    print(lista[0:5:2]) # perro, cerdo
    print(lista.index('gato')) # 1, busca la posicion de esa palabra
    lista.append('koala') # añade koala
    lista.insert(0, 'vaca') # añade vaca en posicion 0
    lista.remove(&quot;vaca&quot;) # borra de la lista vaca
    lista.pop() # borra el ultimo elemento de la lista
    lista.pop(1) # borra esa posicion de la lista
    del lista[1] # borra de la lista ese elemento
    del lista[0:1] # borra ese slicing
    print(len(lista)) # cuenta en numero de elementos de la lista
    lista.extend(lista2) # junta dos listas
    print_lista(lista) # funcion de iterar la lista
# funcion para iterar la lista pasada por argumento
def print_lista(lista):
    for i in lista:
        print(i, end=' ', flush=True)
    print()
</code></pre>
<h2 id="tuplas">Tuplas</h2>
<pre><code>t = (1,2,3,4,5)
# cosas con tuplas
## t[2] = 10 NO SE PUEDE ASIGNAR PARA CAMBIAR
print(t[2])
for e in t:
    print(e)
</code></pre>
<h2 id="diccionarios">Diccionarios</h2>
<pre><code>dic = { 'x' : 5, 'y' : 'miguel', 'z' : False }
# cosas con diccionarios
print(dic['y'])
dic['y'] = 'miguelito'
for id, valor in dic.items():
    print(f&quot;id: {id} valor: {valor}&quot;)
for e in dic.values():
    print(e)
for e in dic:
    print(f'el id es {e}')
    print(f'el valor es {dic[e]}')
</code></pre>
<pre><code>gente = {'1': &quot;miguel&quot;, '2': &quot;cristina&quot;, '3': &quot;isabel&quot;}
gente['4'] = 'maria'
for k in gente:
    print(k)
for k,v in gente.items():
    print(f'key: {k}   valor: {v}')
for k in gente.keys():
    print(f'key: {k}')
for v in gente.values():
    print(f'valor: {v}')
</code></pre>
<h2 id="rangos">Rangos</h2>
<pre><code>r = range(5) # no se puede asignar sino es con una lista
ra = list(range(5))
ra[2] = 20
rang = range(5,10,2) # del 5 al 10 de dos en dos
# cosas con rangos
for e in ra:
    print(e)
for e in rang:
    print(e)
</code></pre>
<h2 id="list-comprension">List Comprension</h2>
<pre><code># de una lista
lista = range(11)
tupla = ((0,1),(1,2),(2,3))
# creas una lista,tupla iterando lista y operaciones
lista2 = [ x * 2 for x in lista]
tupla2 = [ (y*2, x*2) for x,y in tupla]
# resultados
print(lista2)
print(tupla2)
</code></pre>
<h2 id="len">Len</h2>
<pre><code>len(*args/lista)
</code></pre>
<h2 id="objetos_1">Objetos</h2>
<pre><code># definimos una clase
class mobile:
    #definimos unas variables con contenido
    old_phone = &quot;keypad&quot;
    new_phone = &quot;touch screen&quot;

    # definimos funciones que printes esas variables
    def old_mobile(self):
        print(self.old_phone)

    def new_mobile(self):
        print(self.new_phone)
# creamos funcion,variable con objeto y sus dos partes de funciones
def main():
    x = mobile()
    x.old_mobile()
    x.new_mobile()
</code></pre>
<pre><code>class Animal:
    def __init__(self, type, name, sound):
        self._type = type
        self._name = name
        self._sound = sound

    def type(self):
        return self._type

    def name(self):
        return self._name

    def sound(self):
        return self._sound
def print_animal(x):
    if not isinstance(x, Animal):
        raise TypeError(&quot;error, requiere un animal&quot;)
    print(f'El {x.type()} se llama {x.name()} y dice {x.sound()}')
# le pasamos a la funcion de hacer algo, los argumentos al objeto
def main():
    print_animal(Animal(&quot;Kitten&quot;, &quot;Fluffly&quot;, &quot;Meow&quot;))
    print_animal(Animal(&quot;Duck&quot;, &quot;Donald&quot;, &quot;Quak&quot;))
</code></pre>
<h2 id="ficheros">Ficheros</h2>
<ul>
<li>Leer</li>
</ul>
<pre><code>def main():
    file = open('lines.txt', 'r')
    # file = open('lines.txt', 'r') # read only
    # file = open('lines.txt', 'w') # write only (empties files)
    # file = open('lines.txt', 'a') # añadir data in files
    # file = open('lines.txt', 'r+') # optional + read or write
    for line in file:
        print(line.rstrip()) #rstrip elimina espacios o lo que se ponga en ()
</code></pre>
<ul>
<li>Escribir</li>
</ul>
<pre><code>def main():
    fileInput = open('lines.txt', 'rt') # r read t text
    fileOutput = open('linesOutput.txt', 'wt') # w write t text
    for line in fileInput:
        print(line.rstrip(), file=fileOutput) # cada linea sin blancos la envia al nuevo file
        print('.', end='', flush=True) # aqui solo printa esto por cada linea leida
    fileOutput.close() # cierra el doc nuevo
    print('\nDone.') # printa que se ha realizado todo
</code></pre>
<ul>
<li>Copiar</li>
</ul>
<pre><code>def main():
    fileInput = open('cat.jpg', 'rb') # r read b binario
    fileOutput = open('cat_copy.jpg', 'wb') # w write b binario
    # mientras todo se pueda
    while True:
        # leemos datos y lo metemos en un buffer
        buffer = fileInput.read(102400)
        # mientras haya buffer por leer
        if buffer:
            # copiamos del buffer en el file nuevo
            fileOutput.write(buffer)
            print('.', end='', flush=True) # aqui solo printa esto por cada linea leida
        else:
            break
    fileOutput.close() # cierra el doc nuevo
    print('\nDone.') # printa que se ha realizado todo
</code></pre>
<h2 id="modulos">Módulos</h2>
<pre><code>import os, datetime, sys
def main():
    # modulo de system
    v = sys.version_info
    print('Mi version es {}.{}.{}' .format(*v))
    # modulo de operating system
    x = os.name
    w = os.getcwdb()
    print(v)
    print(w)
    # modulo de datetime
    date = datetime.datetime.now() # fecha y hora de ahora
    print(date)
    print(date.year)
    print(date.month)
    print(date.day)
</code></pre>
<h1 id="avanzado-python">AVANZADO PYTHON</h1>
<ul>
<li>
<p>Todos los <a href="https://pythonbasics.org/">COMMANDOS</a> interesantes de python y utilidades que se integran con él.  </p>
</li>
<li>
<p>import LIBRERIA</p>
</li>
<li>
<p>from MODULO import FUNCION  </p>
</li>
</ul>
<h2 id="funciones_1">FUNCIONES</h2>
<ul>
<li>Definir una funcion:</li>
</ul>
<pre><code>## FUNCION TABLA MULTIPLICAR
def TablaMultiplicar(numero, rango):
    for i in range(rango+1):
        print(f'{numero} X {i} = {numero+i}')

TablaMultiplicar(7,2)
TablaMultiplicar(10,3)
</code></pre>
<blockquote>
<p>Print se pone al llamar la funcion para que te de un return, si no se pone nada, te dará los mensajes print de dentro de la funcion.<br />
Variables <code>global</code> dentro de una funcion, se puede utilizar dentro y fuera de esa funcion.<br />
Si como argumento ponemos (*argumento), devuelve una tupla.  </p>
</blockquote>
<h3 id="funcion-type">Funcion type</h3>
<ul>
<li>para saber que tipo de valor es <code>type(valor)</code>  </li>
</ul>
<h3 id="funcion-float-int">Funcion float, int</h3>
<ul>
<li>Transforma el valor en un decimal o entero <code>float(numeroint)</code> </li>
</ul>
<h3 id="funcion-math">Funcion MATH</h3>
<ul>
<li>De la liberia math(from match import sqrt,pow).</li>
<li>hace una subida exponencial <code>pow(5,2)==5**2</code>  </li>
<li>Hace la raiz cuadrada <code>sqrt(100)</code>  </li>
<li>Valor absoluto de un numero <code>abs(-5)</code>  </li>
</ul>
<h3 id="funciones-strings">Funciones strings</h3>
<ul>
<li>texto.lower(), texto.upper(), texto.capitalize(), texto.title(), texto.swapcase(), texto.strip(), texto.split(' '), texto.replace(' ', 'r'), len(texto).  </li>
</ul>
<h3 id="funciones-booleanos">Funciones booleanos</h3>
<ul>
<li>text.isupper(),texto.islower(), texto.startswith('a'), texto.endswith('z'). Si es mayusculas, minisculas, si empieza o termina en tal.  </li>
</ul>
<h3 id="funciones-listas">Funciones listas</h3>
<ul>
<li>lista.remove,insert,pop,append,sort,reverse,count,index,max,min,average.  </li>
<li>lista[1:-3].  </li>
</ul>
<h3 id="funciones-diccionarios">Funciones diccionarios</h3>
<ul>
<li>dict.pop,update,get,setdefault,copy,items,values,keys.  </li>
</ul>
<h3 id="funciones-conjuntos-y-tuplas">Funciones conjuntos y tuplas</h3>
<ul>
<li>conjunto.add, update, remove, discard, update, pop, clear.  </li>
<li>tupla[posicion]  </li>
</ul>
<h2 id="modulos_1">MODULOS</h2>
<ul>
<li>Es un fichero con conjunto de funciones que podemos importar en otros ficheros.  </li>
<li>Todas enteras <code>import modulo.py</code>  </li>
<li>En concreto <code>from modulo.py import funcion1.py</code>  </li>
</ul>
<h2 id="gestion-errores">GESTION ERRORES</h2>
<pre><code>while True:
    try:
        edad = int(input(&quot;Dime tu edad: &quot;))
        print(&quot;Tu edad es:&quot;, edad)
        break
    except ZeroDivisionError:
        print(&quot;No se puede dividir entre zero&quot;)
    except ValueError:
        print(&quot;Numero incorrecto&quot;)
    except KeyboardInterrupt:
        print(&quot;Has cancelado la ejecucion&quot;)
        break
    finally:
        print(&quot;codigo ejecutado correctamente&quot;)
</code></pre>
<blockquote>
<p>Hay varios except como divisionzero, keyboardinterrupt, error value...  </p>
</blockquote>
<h2 id="gestion-de-ficheros">GESTION DE FICHEROS</h2>
<ul>
<li>Leer un fichero:  </li>
</ul>
<pre><code>#!/usr/bin/python3
# leer un fichero en modo read y texto y lo guardamos en una variable
fichero = open(&quot;./texto.txt&quot;, &quot;rt&quot;)
# ver los datos
datos_fichero = fichero.read()
print(datos_fichero)
</code></pre>
<ul>
<li>Crear un fichero poniendo texto:  </li>
</ul>
<pre><code>#!/usr/bin/python3
# creamos un fichero y metodo write y texto para que escriba
fichero = open(&quot;./texto2.txt&quot;, &quot;wt&quot;)
# escribir los datos
texto = &quot;Esto es un ejemplo para\nescribir en un fichero\nque vamos a grabar.\n&quot;
fichero.write(texto)
# cerramos dichero
fichero.close()
# al ejecutarlo se nos crea un fichero con ese nombre y ese texto.
</code></pre>
<ul>
<li>Añadir texto a un fichero:  </li>
</ul>
<pre><code>#!/usr/bin/python3
# creamos un fichero y metodo append y texto para que añada cosas al file
fichero = open(&quot;./texto3.txt&quot;, &quot;at&quot;)
# escribir los datos
texto = &quot;\nEsto es un ejemplo para\nañadir texto\n&quot;
fichero.write(texto)
# cerramos dichero
fichero.close()
# al ejecutarlo se nos crea un fichero con ese nombre y ese texto.
</code></pre>
<ul>
<li>Borrar un fichero:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos un modulo para usar el metodo de borrar fichero del sistema
import os
# creamos un fichero y metodo append y texto para que añada cosas al file
os.remove(&quot;./texto3.txt&quot;)
# al ejecutarlo se nos crea un fichero con ese nombre y ese texto.
</code></pre>
<ul>
<li>Creamos un modulo de objeto Fichero y tratamos estas funciones en un programa:  </li>
</ul>
<pre><code>#!/usr/bin/python3

class Fichero:
    def __init__(self,nombre):
        self.nombre = nombre
    def grabar_fichero(self,texto):
        fichero = open(self.nombre, &quot;wt&quot;)
        fichero.write(texto)
        fichero.close()
    def incluir_fichero(self,texto):
        fichero = open(self.nombre, &quot;at&quot;)
        fichero.write(texto)
        fichero.close()
    def leer_fichero(self):
        fichero = open(self.nombre, &quot;rt&quot;)
        texto = fichero.read()
        return texto
</code></pre>
<pre><code>#!/usr/bin/python3

# importamos el modulo
import ficheros_modulo

# creamos nombre del fichero
nombre_fichero = &quot;fichero1.txt&quot;
fichero = ficheros_modulo.Fichero(nombre_fichero)
# en el fichero que vamos a crear, tiene este texto
texto = &quot;Esta es la linea para añadir.\nEsta la segunda linea.\n&quot;
fichero.grabar_fichero(texto)
# añadimos al fichero este texto
texto = &quot;Esta es la linea para añadir.\n&quot;
fichero.incluir_fichero(texto)
# leemos lo que tenemos de fichero
leer_texto = fichero.leer_fichero()
print(leer_texto)
</code></pre>
<ul>
<li>Tratamiento de binarios en python:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos el modulo para ficheros binarios
import pickle

# leer en modo binarios
fichero = open(&quot;binarios_colores.pckl&quot;, &quot;rb&quot;)
lista_colores = pickle.load(fichero)
print(lista_colores)
</code></pre>
<pre><code>#!/usr/bin/python3

# importamos el modulo para ficheros binarios
import pickle

# añadimos a un fichero una lista de colores en modo binarios
colores = [&quot;azul&quot;, &quot;amarillo&quot;, &quot;verde&quot;]
fichero = open(&quot;binarios_colores.pckl&quot;, &quot;wb&quot;)

pickle.dump(colores, fichero)
fichero.close()
</code></pre>
<h2 id="expresiones-regulares">EXPRESIONES REGULARES</h2>
<ul>
<li>Expresiones regulares con el modulo RE:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos el modulo de expresiones regulares
import re

texto = &quot;Hola me llamo miguel&quot;

# SEARCH
# buscamos ese patron dentro del texto
resultado = re.search(&quot;llamo&quot;,texto)
# que acabe en miguel$, que empiece en ^miguel 
# que haya algo entre me.*miguel

if resultado:
    print(&quot;OK&quot;)
else:
    print(&quot;No encontado&quot;)

# FINDALL
texto2 = '''
el coche de miguel es rojo
el coche de natalia es blanco
'''
resultado = re.findall(&quot;coche.*rojo&quot;, texto2)

if resultado:
    print(&quot;OK&quot;)
else:
    print(&quot;No encontado&quot;)

# SPLIT
texto3 = &quot;La silla es blanca y vale 80&quot;
resultado = re.split(&quot;\s&quot;, texto3)

if resultado:
    print(resultado)
else:
    print(&quot;No encontado&quot;)

# SUB
texto4 = &quot;La silla es blanca y vale 80&quot;
resultado = re.sub(&quot;blanca&quot;, &quot;roja&quot;, texto4)

if resultado:
    print(resultado)
else:
    print(&quot;No encontado&quot;)
</code></pre>
<h2 id="convert-json">CONVERT JSON</h2>
<pre><code>#!/usr/bin/python3

# importamos el modulo de json
import _json

producto1 = {&quot;nombre&quot;:&quot;miguel&quot;, &quot;apellido&quot;:&quot;amoros&quot;}

estructura_json = _json.dumps(producto1)
print(estructura_json)

producto2 = _json.loads(estructura_json)
print(producto2)
</code></pre>
<h2 id="fecha-y-hora">FECHA Y HORA</h2>
<pre><code>#!/usr/bin/python3

# importamos el modulo de json
from datetime import datetime

fechayhora = datetime.now()
print(fechayhora)

año = fechayhora.year
mes = fechayhora.month
dia = fechayhora.day

hora = fechayhora.hour
minutos = fechayhora.minute
segundos = fechayhora.second
microsegundos = fechayhora.microsecond

print(f&quot;La hora es {hora} : {minutos}&quot;)
print(f&quot;La fecha es {dia} {mes} {año}&quot;)
</code></pre>
<h2 id="sqlite">SQLite</h2>
<ul>
<li>
<p>Crear base de datos con python con el modulo sqlite:  </p>
</li>
<li>
<p><a href="https://likegeeks.com/es/tutorial-de-python-sqlite3/#SQLite3_Cursor">TUTORIAL</a>  </p>
</li>
<li>
<p>Podemos descargar la <a href="https://sqlitebrowser.org/dl/">herramienta</a> para visualizar las cosas y manejar la bd.  </p>
</li>
<li>
<p>Ejemplo de creacion de bbdd:  </p>
</li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos el modulo de bd sqlite
import sqlite3  

# creamos/existente bbdd
conexion = sqlite3.connect(&quot;bbdd1.db&quot;)

# sirve para poder hacer sentencias sql dentro
cursor = conexion.cursor()

# creamos una tabla
cursor.execute(&quot;CREATE TABLE PERSONAS (nombre TEXT, apellido1 TEXT, apellido2 TEXT, edad INTEGER)&quot;)
# creamos fila
cursor.execute(&quot;INSERT INTO PERSONAS VALUES ('Antonio', 'Perez', 'Gomez', 35)&quot;)
# creamos varias filas
lista_personas = [('Miguel', 'Amoros', 'Moret', 28), ('Natalia', 'Sendra', 'Soler', 26)]
cursor.executemany(&quot;INSERT INTO PERSONAS VALUES (?,?,?,?)&quot;, lista_personas)

# consulta de datos
cursor.execute(&quot;SELECT * FROM PERSONAS&quot;)
personas = cursor.fetchall()
for persona in personas:
    print(persona)

# consulta datos con WHERE
cursor.execute(&quot;SELECT * FROM PERSONAS WHERE edad &gt; 28&quot;)
personas_edad = cursor.fetchall()
for persona in personas_edad:
    print(persona)

# consulta datos con WHERE y ordenado
cursor.execute(&quot;SELECT * FROM PERSONAS WHERE edad &lt;= 28 ORDER BY edad DESC&quot;)
personas_edad = cursor.fetchall()
for persona in personas_edad:
    print(persona)

# borrar datos
cursor.execute(&quot;DELETE FROM PERSONAS WHERE nombre = 'Antonio'&quot;)

# actualizar datos
cursor.execute(&quot;UPDATE PERSONAS SET nombre = 'Miguelito' where edad = 28&quot;)


# mantener el registro guardado
conexion.commit()

# cerramos bdd
conexion.close()
</code></pre>
<h2 id="tkinter">TKINTER</h2>
<ul>
<li>
<p><a href="https://docs.python.org/3.9/library/tkinter.html">TKINTER</a> Es un modulo de python que sirve para crear una interfaz grafica.</p>
</li>
<li>
<p>Ejemplo de lo que se puede hacer:  </p>
</li>
</ul>
<pre><code>#!/usr/bin/python3

# tkinter - componente raiz
import tkinter
from tkinter import filedialog

# definimos la ventana de la aplicacion
raiz = tkinter.Tk()
raiz.title(&quot;Mi programa&quot;)

# definimos aspecto de la ventana
frame = tkinter.Frame(raiz)
frame.config(fg=&quot;blue&quot;,width=400,height=300)
frame.pack()

# construimos un label
texto = &quot;Hola mundo&quot;
label = tkinter.Label(raiz,text=texto)
label.config(fg=&quot;green&quot;,bg=&quot;grey&quot;,font=(&quot;Cortana&quot;,30))
label.pack()

# construimos una entrada por teclado
entrada = tkinter.Entry(raiz)
entrada.config(justify=&quot;center&quot;, show=&quot;*&quot;)
entrada.pack()

# construimos una box de texto
box = tkinter.Text(raiz)
box.config(width=20,height=10,font=(&quot;Verdana&quot;,15),padx=10,pady=10,fg=&quot;green&quot;,selectbackground=&quot;yellow&quot;)
box.pack()

# construimos una boton que salte mensaje
def accion():
    print(&quot;Hola mundo&quot;)

boton = tkinter.Button(raiz,text=&quot;Ejecutar&quot;,command=accion)
boton.config(fg=&quot;green&quot;)
boton.pack()

# construimos un multiseleccion
def accion():
    print(f&quot;La opcion es {opcion.get()}&quot;)

seleccion1 = tkinter.Radiobutton(raiz,text=&quot;Opcion 1&quot;,variable=opcion,command=accion)
seleccion1.pack()
seleccion2 = tkinter.Radiobutton(raiz,text=&quot;Opcion 2&quot;,variable=opcion,command=accion)
seleccion2.pack()

# construimos un checkbutton
def verificar():
    valor = check1.get()
    if valor == 1:
        print(&quot;La opcion está activada&quot;)
    else:
        print(&quot;La opcion está activada&quot;)

check1 = tkinter.IntVar()
boton1 = tkinter.Checkbutton(raiz,text=&quot;Opcion 1&quot;,variable=check1,onvalue=1,offvalue=0,command=verificar)
boton1.pack()

# construimos boton con popup
def avisar():
    tkinter.messagebox.showinfo(&quot;Titulo&quot;,&quot;Mensaje con la info&quot;)

boton = tkinter.Button(raiz,text=&quot;Pulsar para aviso&quot;,command=avisar)
boton.pack()

# construimos boton con popup para responder si o no
def preguntar():
    tkinter.messagebox.askquestion(&quot;Titulo&quot;,&quot;Quieres borrar la info?&quot;)

boton = tkinter.Button(raiz,text=&quot;Pulsar para preguntar&quot;,command=preguntar)
boton.pack()

# construimos boton para añadir fichero
from tkinter import filedialog
def abrirfichero():
    rutafichero = filedialog.askopenfilename(title=&quot;Abrir un fichero&quot;)
    print(rutafichero)

boton = tkinter.Button(raiz,text=&quot;Pulsar para abrir fichero&quot;,command=abrirfichero)
boton.pack()

# para que siga ejecutandose
raiz.mainloop()
</code></pre>
<h2 id="pydoc">PYDOC</h2>
<ul>
<li>Es un comando que sirve para generar documentacion de una clase y sus funciones:<br />
<code>pydoc /ruta/programa.py</code><br />
<code>pydoc -w /ruta/programa.py</code> para tenerla en html.  </li>
</ul>
<h2 id="doctest">DOCTEST</h2>
<ul>
<li>Sirve para hacer pruebas en los docstrings de las funciones:  </li>
</ul>
<pre><code># DOCTEST PARA PODER HACER PRUEBAS EN EL DOCSTRING
def sumar(num1,num2):
    &quot;&quot;&quot;
    Esto es una funcion para sumar numeros
    &gt;&gt;&gt; sumar(4,3)
    7
    &gt;&gt;&gt; sumar(4,3)
    8
    &gt;&gt;&gt; sumar(2,3)
    5
    &quot;&quot;&quot;
    return num1+num2
print(sumar(2,2))
# se importa al final la libreria para hacer las pruebas
import doctest
doctest.testmod()
</code></pre>
<pre><code>4
**********************************************************************
File &quot;/home/miguel/Documents/curso_python2022/prueba_doctest.py&quot;, line 9, in __main__.sumar
Failed example:
    sumar(4,3)
Expected:
    8
Got:
    7
**********************************************************************
1 items had failures:
   1 of   3 in __main__.sumar
***Test Failed*** 1 failures.
</code></pre>
<h2 id="unistest">UNISTEST</h2>
<ul>
<li>Modulo que sirve para hacer <a href="https://docs.python.org/3/library/unittest.html">test</a>.  </li>
</ul>
<pre><code>#!/usr/bin/python3

# DOCTEST PARA PODER HACER PRUEBAS EN EL DOCSTRING
def sumar(num1,num2):
    &quot;&quot;&quot;
    Esto es una funcion para sumar numeros
    &quot;&quot;&quot;
    return num1+num2

print(sumar(2,2))

# se importa al final la libreria para hacer las pruebas
import unittest
class pruebas(unittest.TestCase):
    def test(self):
        self.assertEqual(sumar(4,5),9)
        self.assertEqual(sumar(4,5),19)

# prueba
if __name__ == '__main__':
    unittest.main()
</code></pre>
<pre><code>4
.
----------------------------------------------------------------------
Ran 1 test in 0.000s
OK
</code></pre>
<h2 id="numpy">NUMPY</h2>
<ul>
<li>
<p><a href="https://aprendeconalf.es/docencia/python/manual/numpy/">NUMPY</a> s una librería de Python especializada en el cálculo numérico y el análisis de datos, especialmente para un gran volumen de datos.  </p>
</li>
<li>
<p>Incorpora una nueva clase de objetos llamados arrays que permite representar colecciones de datos de un mismo tipo en varias dimensiones, y funciones muy eficientes para su manipulación.  </p>
</li>
<li>
<p>Instalamos libreria con <code>pip3 install numpy</code>  </p>
</li>
<li>
<p>Ejemplos de uso:  </p>
</li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la liberia
import numpy as np

# creamos arrays
lista1 = [1,2,3,4]
lista2 = [5,6,7,8]

print(np.zeros(4)) # crea array de 4 ceros
print(np.ones(5)) # crea array de 5 unos
np.arange(5) # crea array de 0 a 4
np.arange(2,10)

array1 = np.array(lista1)
array2 = np.array([1,2,3,4,5,6])
print(array1)

# array de dos dimensiones
lista_doble = (lista1,lista2,lista2,lista1)
print(lista_doble)

array_doble = np.array(lista_doble)
print(array_doble)

# formas que tiene el array
print(array_doble.shape) # 4 filas y 4 columnas
print(array_doble.dtype) # numeros int


# operaciones con arrays
print(array1 + 4) # multiplica todo lo de dentro por 4 pero no queda asignado
array_multiplicado = array1 * 3
print(array_multiplicado)

# indexacion / slicing
array3 = np.arange(10)
print(array3)
print(array3[0:3])
array4 = np.copy(array3)
array4[0:4] = 20
print(array3,array4)

# matrices
array5 = np.arange(15).reshape(3,5) # 3 filas y 5 columnas
print(array5)
print(array5[1][1])
array6 = array5.T # cambio el orden de filas y columnas
print(array6)

# entrada / salida de arrays
array7 = np.arange(6)
np.save(&quot;array7&quot;, array7) # guarda ese array con ese nombre
print(np.load(&quot;array7.npy&quot;)) # carga el archivo con el nombre del array
array8 = np.arange(8)
np.savez(&quot;arrayxy&quot;, x=array7, y=array8) # guarda en tipo coordenadas x y
array_xy = np.load(&quot;arrayxy.npz&quot;)
print(array_xy)
print(array_xy[&quot;x&quot;])
print(array_xy[&quot;y&quot;])
np.savetxt(&quot;mifilearray.txt&quot;, array8, delimiter=&quot;,&quot;) # guarda en un file txt
print(np.loadtxt(&quot;mifilearray.txt&quot;, delimiter=&quot;,&quot;))

# funciones
print(np.sqrt(array1)) #raiz cuadrada
print(np.random(5)) # 5 numeros aleatorios
print(np.add(array1, array2)) # suma las dos
print(np.maxium(array1,array2)) # elije el maximo de entre las dos arrays

# funcion par e impar
def pares(inicio,fin):
    if inicio % 2 == 0:
        array10 = np.arange(inicio,fin,2)
    else:
        inicio +=1
        array10 = np.arange(inicio,fin)
    return array10
print(pares(0,21))
</code></pre>
<h2 id="pandas">PANDAS</h2>
<ul>
<li>
<p><a href="https://aprendeconalf.es/docencia/python/manual/pandas/">PANDAS</a> es una librería de Python especializada en el manejo y análisis de estructuras de datos.  </p>
</li>
<li>
<p>Las principales características de esta librería son:  </p>
<ul>
<li>Define nuevas estructuras de datos basadas en los arrays de la librería NumPy pero con nuevas funcionalidades.</li>
<li>Permite leer y escribir fácilmente ficheros en formato CSV, Excel y bases de datos SQL.</li>
<li>Permite acceder a los datos mediante índices o nombres para filas y columnas.</li>
<li>Ofrece métodos para reordenar, dividir y combinar conjuntos de datos.</li>
<li>Permite trabajar con series temporales.</li>
<li>Realiza todas estas operaciones de manera muy eficiente.</li>
</ul>
</li>
<li>
<p>PARA QUE QUEDE EL CAMBIO HECHO SIEMPRE HAY QUE ASIGNAR LA FUNCION QUE SE HAGA A LA SERIE O DATAFRAME DEL CUAL SE HACE ALGO.  </p>
</li>
<li>
<p>Metodo SERIES para crear indices:  </p>
</li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la liberia
from logging.config import dictConfig
import pandas as pd

## INDICES

# te crea una serie de indices #0 1
serie1 = pd.Series([1,5,7])    #1 5
print(serie1)
# ver un indice
print(serie1[1]) #5
# crear un indice
asignaturas = [&quot;mates&quot;, &quot;sociales&quot;, &quot;fisica&quot;]
notas = [8,9,5]
serie_notas_miguel = pd.Series(notas,asignaturas)
print(serie_notas_miguel)
print(serie_notas_miguel[&quot;mates&quot;])
#condiciones
print(serie_notas_miguel[serie_notas_miguel&gt;7])
#asignamos nombres
serie_notas_miguel.name = &quot;Notas de Miguel&quot;
serie_notas_miguel.index.name = &quot;Asignaturas de Bachiller&quot;
print(serie_notas_miguel)
# convertir la serie en un diccionario
diccionario = serie_notas_miguel.to_dict()
print(diccionario)
serie = pd.Series(diccionario)
print(serie)
#operaciones con indices con las series
notas2 = [1,5,3]
serie_notas_natalia = pd.Series(notas2,asignaturas)
print(serie_notas_natalia)
notas_medias = (serie_notas_miguel+serie_notas_natalia)/2
print(notas_medias)
</code></pre>
<ul>
<li>Metodo DATAFRAMES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la liberia
import pandas as pd
import webbrowser # sirve para paginas web
## DATAFRAMES
# sirve para abrir esta web
website = &quot;https://es.wikipedia.org/wiki/Anexo:Campeones_de_la_NBA&quot;
webbrowser.open(website)
# copiamos algo al portapapeles de esa web y lo asignamos a un dataframe
dataframe_nba = pd.read_clipboard()
print(dataframe_nba)
# te dice el nombre de las columnas
print(dataframe_nba.columns)
print(dataframe_nba.columns[&quot;Campeón del Oeste&quot;])
# ver la info por el indice
print(dataframe_nba.loc[5])
# ver los 5 primeros con head o especificos
print(dataframe_nba.head())
print(dataframe_nba.head(7))
print(dataframe_nba.tail())
print(dataframe_nba.tail(4))

# dataframe con un diccionario
asignaturas = [&quot;Mates&quot;, &quot;Reli&quot;, &quot;Sociales&quot;, &quot;Natus&quot;]
notas = [8,5,7,8]
diccionario = { &quot;Asignaturas&quot;: asignaturas, &quot;Notas&quot;: notas}
print(diccionario)
# a raiz del diccionario te crea un dataframe con los nombres, notas e indices
dataframe_notas = pd.DataFrame(diccionario)
print(dataframe_notas)
</code></pre>
<ul>
<li>Metodo INDICES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la liberia
import pandas as pd

# INDICES
lista_valores = [1,2,3]
lista_indices = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]

serie = pd.Series(lista_valores,index=lista_indices)
print(serie) # a 1 b 2 c 3
print(serie.index) # a b c
print(serie.index[0]) # a

lista_valores2 = [[1,2,3], [8,9,10], [3,5,6]]
lista_indices2 = [&quot;Mates&quot;, &quot;Natus&quot;, &quot;Fisica&quot;]
lista_nombres = [&quot;Miguel&quot;,&quot;Natalia&quot;, &quot;Cristina&quot;]
# creamos el dataframe indicando indices, columnas y datos
dataframe = pd.DataFrame(lista_valores2, index=lista_indices2, columns=lista_nombres)
print(dataframe)
print(dataframe.index)
print(dataframe.index[2])
</code></pre>
<blockquote>
<p>Si se crea mas indices que valores, se crean subindices y si usamos <code>serie.unstack()</code> convierte los otros indices en columnas. Para deshacer o el proceso inverso seria <code>dataframe.stack()</code>.  </p>
</blockquote>
<ul>
<li>Metodo BORRAR DATOS:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la liberia
import pandas as pd
import numpy as np

# ELIMINAR DATOS

## INDICES
print(np.arange(4))
# creamos una serie a partir de un array de numpy y ponemos los indices
serie = pd.Series(np.arange(4), index=[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;])
print(serie)

# eliminamos indices
serie.drop(&quot;c&quot;)

## DATAFRAMES
print(np.arange(9).reshape(3,3))
lista_valores = np.arange(9).reshape(3,3)
lista_indices = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]
lista_columnas = [&quot;c1&quot;,&quot;c2&quot;,&quot;c3&quot;]

dataframe = pd.DataFrame(lista_valores, index=lista_indices,columns=lista_columnas)
print(dataframe)
dataframe.drop(&quot;b&quot;)
dataframe.drop(&quot;c2&quot;, axis=1)
</code></pre>
<ul>
<li>Metodo SELECCIONAR DATOS:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la liberia
import pandas as pd
import numpy as np

# SELECCIONAR DATOS
# en series
lista_valores = np.arange(3) # 0 1 2
lista_indices = [&quot;i1&quot;,&quot;i2&quot;,&quot;i3&quot;]

serie = pd.Series(lista_valores,index=lista_indices)
print(serie)
# multiplica los datos
serie = serie *2
print(serie)
# seleccionar datos
print(serie[&quot;i1&quot;])
print(serie[1])
print(serie[0:2])
print(serie[serie&gt;2])
serie[serie&gt;2] = 6
print(serie)

# en datafranes
lista_valores2 = np.arange(25).reshape(5,5)
lista_indices2 = [&quot;i1&quot;,&quot;i2&quot;,&quot;i3&quot;,&quot;i4&quot;,&quot;i5&quot;]
lista_columnas2 = [&quot;c1&quot;,&quot;c2&quot;,&quot;c3&quot;,&quot;c4&quot;,&quot;c5&quot;]

dataframe = pd.DataFrame(lista_valores2,index=lista_indices2,columns=lista_columnas2)
print(dataframe)
print(dataframe[&quot;c2&quot;]) # todo lo de la c2
print(dataframe[&quot;c2&quot;][&quot;i2&quot;]) # valor concreto
print(dataframe[dataframe[&quot;c2&quot;]&gt;15]) # los datos de donde la columnas2
print(dataframe&gt;20) # muestra cada valor si es true o false
print(dataframe.loc[&quot;i2&quot;]) # fila i2
</code></pre>
<ul>
<li>Metodo ORGANIZAR Y CLASIFICAR ESTADISTICAS:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la liberia
import pandas as pd
import numpy as np

# ORDENAR Y CLASIFICAR
lista_valores = range(4)
lista_indices = list(&quot;bcad&quot;)
lista_columnas = list(&quot;wxyz&quot;)
serie = pd.Series(lista_valores,index=lista_indices)
print(serie)

print(serie.sort_index())
print(serie.sort_values())
print(serie.rank()) # ordena ppor ranking de clasificaciones
# esto crea una sserie con 10 datos randoms
serie2 = pd.Series(np.random.randn(10))
print(serie2)
print(serie2.rank())

# CLASIFICAR DATOS
lista_indices2 = list(&quot;abc&quot;)
lista_columnas2 = list(&quot;xyz&quot;)
dataframe = pd.DataFrame(np.arange(9).reshape(3,3),index=lista_indices2, columns=lista_columnas2)
print(dataframe)
print(dataframe.describe())
print(dataframe.sum())
print(dataframe.max())
print(dataframe.max(axis=1))
print(dataframe.min())
print(dataframe.idxmin())
</code></pre>
<ul>
<li>Metodo para ver los VALORES NULOS:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la liberia
import pandas as pd
import numpy as np

# VALORES NULOS
lista_valores = [1,2,np.nan,4]
lista_indices = list(&quot;abcd&quot;)

serie = pd.Series(lista_valores,index=lista_indices)
print(serie)
print(serie.isnull()) # ver booleanos los nulos
print(serie.dropna()) # borrar los nulos

lista_valores2 = [[1,2,1],[1,np.nan,2],[1,2,np.nan]]
lista_indices2 = list(&quot;123&quot;)
lista_columnas2 = list(&quot;abc&quot;)
dataframe = pd.DataFrame(lista_valores2,index=lista_indices2,columns=lista_columnas2)
print(dataframe)
print(dataframe.isnull())
print(dataframe.dropna())
print(dataframe.fillna(0)) # rellena los nulos con 0
</code></pre>
<ul>
<li>Metodo en HTML:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd

# TRATAMIENTO DE DATOS EN URL HTML
url = &quot;https://es.wikipedia.org/wiki/Anexo:Finales_de_la_Copa_Mundial_de_F%C3%BAtbol&quot;

# cogemos los datos de la url
dataframe_futbol = pd.io.html.read_html(url)


# cambiamos los campos de columnas por los que queremos
print(dataframe_futbol.loc[0])
# creamos un diccionario con los nombres de las columnas
diccionario = dict(dataframe_futbol.loc[0])
print(diccionario)
# lo asignamos al nuevo dataframe
dataframe_futbol = dataframe_futbol.rename(columns=diccionario)
# ahora borramos la fila 1 que se repite y borramos la columna notas
dataframe_futbol = dataframe_futbol.drop(0)
dataframe_futbol = dataframe_futbol.drop(&quot;Notas&quot;,axis=1)
print(dataframe_futbol)
</code></pre>
<ul>
<li>Metodo en EXCEL:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd

# TRATAMIENTO DE DATOS EN FILE EXCELL

# cogemos los datos deL FICHERO
file_excell = pd.ExcelFile(&quot;/home/miguel/Documents/curso_python2022/pandas/poblacion.xlsx&quot;)
# en csv seria:
# file_csv = pd.read_csv(&quot;/home/miguel/Documents/curso_python2022/pandas/poblacion.xlsx&quot;)

# parseamos en que hoja está
dataframe = file_excell.parse(&quot;Hoja1&quot;)

print(dataframe)
</code></pre>
<h2 id="tratamiento-datos-dataframes">TRATAMIENTO DATOS DATAFRAMES</h2>
<ul>
<li>UNION DE DATAFRAMES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd

dataframe1 = pd.DataFrame({&quot;c1&quot; : [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;], &quot;clave&quot; : [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]})
dataframe2 = pd.DataFrame({&quot;c2&quot; : [&quot;4&quot;,&quot;5&quot;,&quot;6&quot;], &quot;clave&quot; : [&quot;c&quot;,&quot;b&quot;,&quot;e&quot;]})

# hacer una union de datafames segun columna. Une por claves iguales
dataframe3 = pd.DataFrame.merge(dataframe1,dataframe2,on=&quot;clave&quot;)
print(dataframe3)
# une igual pero manteniendo los datos del de la izquierda
dataframe4 = pd.DataFrame.merge(dataframe1,dataframe2,on=&quot;clave&quot;,how=&quot;left&quot;)
print(dataframe4)
# une igual pero manteniendo los datos del de la derecha
dataframe5 = pd.DataFrame.merge(dataframe1,dataframe2,on=&quot;clave&quot;,how=&quot;right&quot;)
print(dataframe5)
</code></pre>
<ul>
<li>CONCATENAR Y COMBINAR DATAFRAMES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd
import numpy as np

# concatenamos los dos arrays
array1 = np.arange(9).reshape(3,3)
array_concatenado = np.concatenate([array1,array1])
print(array_concatenado)

# concatenamos series poniendo los campos de serie
serie1 = pd.Series([1,2,3], index=[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])
serie2 = pd.Series([4,5,6], index=[&quot;d&quot;,&quot;e&quot;,&quot;f&quot;])
serie_concatenada = pd.concat([serie1,serie2], keys=[&quot;serie1&quot;,&quot;serie2&quot;])
print(serie_concatenada)

# concatenamos datafranes
dataframe1 = pd.DataFrame(np.random.rand(3,3), columns=[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]) #3 filas 3 columnas
dataframe2 = pd.DataFrame(np.random.rand(2,3), columns=[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])
dataframe3 = pd.concat([dataframe1,dataframe2],keys=[&quot;dataframe1&quot;,&quot;dataframe2&quot;])
print(dataframe3)

# combinar serie y dataframes
serie_combinada = serie1.combine_first(serie2)
print(serie_combinada)
dataframe_combinado = dataframe1.combine_first(dataframe2)
print(dataframe_combinado)
</code></pre>
<ul>
<li>DUPLICAR DATAFRAMES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd
import numpy as np


lista_valores = [[1,2],[1,2],[5,6],[5,8]]
lista_indices = list(&quot;mnop&quot;)
lista_columnas = [&quot;columna1&quot;,&quot;columna2&quot;]

dataframe = pd.DataFrame(lista_valores, index=lista_indices, columns=lista_columnas)
print(dataframe)

# BORRAR LOS DUPLICADOS
dataframe_duplicado = dataframe.drop_duplicates()
print(dataframe_duplicado)

# BORRAR LOS DUPLICADOS PARA SOLO VALORES UNICOS EN UNA COLUMNA Y MANTENER EL ULTIMO VALOR
dataframe_duplicado_columna = dataframe_duplicado.drop_duplicates([&quot;columna1&quot;], keep=&quot;last&quot;)
print(dataframe_duplicado_columna)
</code></pre>
<ul>
<li>METODO REEMPLAZAR SERIES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd
import numpy as np

# REEMPLAZAR SERIES
serie = pd.Series([1,2,3,4,5,6])
print(serie)
# reemplaza el 1 por el 10
serie1 = serie.replace(1,10)
print(serie1)
serie2 = serie.replace({1:10,2:20})
print(serie2)
</code></pre>
<ul>
<li>METODO PARA RENOMBRAR INDICES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd
import numpy as np

lista_valores = np.arange(9).reshape(3,3)
lista_indices = list(&quot;abc&quot;)
lista_columnas = [&quot;columna1&quot;,&quot;columna2&quot;,&quot;columna3&quot;]

dataframe = pd.DataFrame(lista_valores, index=lista_indices, columns=lista_columnas)
print(dataframe)
# REEMPLAZAMOS LOS INDICES
# POR MAYUSCULAS
nuevos_indices = dataframe.index.map(str.upper)
dataframe.index = nuevos_indices
print(dataframe)
# POR RENAME
dataframe = dataframe.rename(index=str.lower)
print(dataframe)
# NUEVOS INDICES
indices_nuevos = {&quot;a&quot;:&quot;f&quot;,&quot;b&quot;:&quot;w&quot;,&quot;c&quot;:&quot;z&quot;}
dataframe = dataframe.rename(index=indices_nuevos)
print(dataframe)
# O SOLO UNO DE LOS QUE HAY
indices_uno = {&quot;f&quot;:&quot;xxx&quot;}
dataframe = dataframe.rename(index=indices_uno)
print(dataframe)
</code></pre>
<ul>
<li>METODO PARA AGRUPAR CATEGORIAS:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd
import numpy as np

precio = [42,50,45,23,5,21,88,34,26]
rango = [10,20,30,40,50,60,70,80,90,100]

# AGRUPAR CATEGORIAS
# te sale en que rango está cada precio de la lista de rangos
precio_con_rango = pd.cut(precio,rango)
print(precio_con_rango)
# cuenta cuantos hay para cada rango de precios
print(pd.value_counts(precio_con_rango))
</code></pre>
<ul>
<li>METODO PARA FILTRAR INDICES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd
import numpy as np

# 10 filas por 3 columnas
lista_valores = np.random.rand(10,3)
# creamos un dataframe
dataframe = pd.DataFrame(lista_valores)
print(dataframe)
# filtramos por columna y valor
columna0 = dataframe[0]
print(columna0)
print(columna0[columna0&gt;0.40])
# tmb por dataframe se puede
print(dataframe[dataframe&gt;0.40])
</code></pre>
<ul>
<li>METODO PARA COMBINAR ELEMENTOS:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd
import numpy as np

lista_valores = np.arange(25).reshape(5,5)

dataframe = pd.DataFrame(lista_valores)

# cambiamos los indices por una combinacion aleatoria
combinacion = np.random.permutation(5)
print(combinacion)

# ahora ordena los valores segun el indice de la combinacion
print(dataframe.take(combinacion))
</code></pre>
<ul>
<li>METODO PARA AGRUPAR POR COLUMNAS GROUPBY:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd
import numpy as np

lista_valores = {&quot;clave1&quot;: [&quot;x&quot;,&quot;x&quot;,&quot;y&quot;,&quot;y&quot;,&quot;z&quot;],&quot;clave2&quot;: [&quot;a&quot;,&quot;b&quot;,&quot;a&quot;,&quot;b&quot;,&quot;a&quot;], &quot;datos1&quot;: np.random.rand(5), &quot;datos2&quot;: np.random.rand(5)}

dataframe = pd.DataFrame(lista_valores)
print(dataframe)
# queremos agrupar datos1 con clave1
agrupacion = dataframe[&quot;datos1&quot;].groupby(dataframe[&quot;clave1&quot;])
print(agrupacion)
# te hace una media de x y z
print(agrupacion.mean())
</code></pre>
<ul>
<li>METODO PARA AGREGACIONES EN DATAFRAMES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import pandas as pd
import numpy as np

lista_valores = [[1,2,3],[4,5,6],[7,8,9],[np.nan,np.nan,np.nan]]
lista_columnas = list(&quot;abc&quot;)
dataframe = pd.DataFrame(lista_valores,columns=lista_columnas)
print(dataframe)

# agregaciones de suma, minimo sobre los datos
print(dataframe.agg([&quot;sum&quot;,&quot;min&quot;]))
# por fila
print(dataframe.agg(&quot;sum&quot;,axis=1))
</code></pre>
<h2 id="seaborn">SEABORN</h2>
<ul>
<li>
<p><a href="https://interactivechaos.com/es/manual/tutorial-de-seaborn/presentacion#:~:text=seaborn%20es%20una%20librer%C3%ADa%20de,para%20Python%20desarrollada%20sobre%20matplotlib%20.&amp;text=Adem%C3%A1s%2C%20est%C3%A1%20%C3%ADntimamente%20integrada%20con,de%20las%20funciones%20de%20visualizaci%C3%B3n.">SEABORN</a> es una librería para Python que permite generar fácilmente elegantes gráficos. Seaborn esta basada en matplotlib y proporciona una interfaz de alto nivel que es realmente sencilla de aprender. Dada su gran popularidad se encuentra instalada por defecto en la distribución Anaconda.  </p>
</li>
<li>
<p>La representación de datos es una tarea clave del análisis de datos. La utilización de una gráfica adecuada puede hacer que los resultados y conclusiones se comuniquen de una forma adecuada o no. Conocer y manejar diferentes herramientas es clave para poder seleccionar la gráfica adecua en cada ocasión. En esta entrada se va a repasar básicamente las funciones que ofrece la librería Seaborn.  </p>
</li>
<li>
<p>INSTALACION <code>pip3 install seaborn</code>  </p>
</li>
<li>
<p>Para usarlo en el <a href="https://code.visualstudio.com/docs/python/jupyter-support-py">VS CODE - JUPYTER</a> y tenemos que crear una ventana interactiva de jupyter para usarlo dentro de vscode <code>pip3 install jupyter</code>  </p>
</li>
<li>
<p>PODEMOS CREAR HISTOGRAMAS CON DATOS (VIA INTERACTIVO JUPYTER):  </p>
</li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la libreria
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np
import matplotlib as mpl
import seaborn as sns

# para que se cree luego el histograma(en web interactiva~Jupyter)
#print(%matplotlib inline)
datos1 = np.random.randn(100)
print(datos1)

# crea un histograma
print(mpl.pyplot.hist(datos1))
print(sns.displot(datos1))

# podemos cambiar el color y oscuridad
print(sns.displot(datos1, color=&quot;green&quot;))
print(mpl.pyplot.hist(datos1, color=&quot;green&quot;, alpha=0.8))

# creamos otros datos
datos2 = np.random.randn(80)
print(sns.displot(datos2, color=&quot;yellow&quot;))
print(mpl.pyplot.hist(datos2, color=&quot;yellow&quot;, alpha=0.8))

# juntamos los dos datos / bin=barras a mostrar
print(mpl.pyplot.hist(datos1, color=&quot;yellow&quot;, alpha=0.8, bins=20, density=True))
print(mpl.pyplot.hist(datos2, color=&quot;blue&quot;, alpha=0.8, bins=20, density=True))

# juntamos con seaborn
datos3 = np.random.randn(100)
datos4 = np.random.randn(100)
print(sns.jointplot(datos3,datos4))
print(sns.jointplot(datos3,datos4, kind=&quot;hex&quot;))
</code></pre>
<blockquote>
<p><a href="https://interactivechaos.com/es/manual/tutorial-de-seaborn/presentacion">TUTOTIAL HISTOGRAMAS</a><br />
<a href="https://stackabuse.com/seaborn-library-for-data-visualization-in-python-part-1/">INSTALACION</a><br />
<a href="https://www.python-graph-gallery.com/">TIPOS HISTOGRAMA</a></p>
</blockquote>
<p><img alt="" src="../images/histograma.png" />
<img alt="" src="../images/histograma2.png" /></p>
<ul>
<li>CREAMOS HISTOGRAMAS DE DIFERENTES DISTRIBUCIONES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la libreria
import pandas as pd
import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt
import seaborn as sns

# para crear el grafico en estas pruebas
#%matplotlib inline

datos = np.random.randn(100)

# DIFERENTES DISTRIBUCIONES DEL HISTOGRAMA
print(sns.distplot(datos))
print(sns.distplot(datos, color=&quot;green&quot;, hist=False))
# creamos poniendo un color la linea y otro las barras
argumentos_curva = {&quot;color&quot;:&quot;black&quot;, &quot;label&quot;:&quot;Curva&quot;}
argumentos_histograma = {&quot;color&quot;:&quot;grey&quot;, &quot;label&quot;:&quot;Histograma&quot;}
print(sns.distplot(datos, kde_kws=argumentos_curva, hist_kws=argumentos_histograma))

# desde una serie creamos el histograma
serie = pd.Series(datos)
print(sns.distplot(serie, bins=25, color=&quot;green&quot;))
</code></pre>
<p><img alt="" src="../images/histograma3.png" /></p>
<ul>
<li>DIAGRAMA DE CAJA:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la libreria
import pandas as pd
import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt
import seaborn as sns

# para crear el grafico en estas pruebas
#%matplotlib inline

datos = np.random.randn(100)

# DIAGRAMA DE CAJA
print(sns.boxplot(datos))
</code></pre>
<p><img alt="" src="../images/histograma4.png" /></p>
<ul>
<li>DIAGRAMA DE REGRESIONES LINEALES:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la libreria
import pandas as pd
import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt
import seaborn as sns

# para crear el grafico en estas pruebas
#%matplotlib inline

# regresiones lineales que sirven respecto una variable
# respecto a otras
# nos carga una preguardado de gente dejando propinas
propinas = sns.load_dataset(&quot;tips&quot;)
print(propinas.head(10))

# creamos un grafico de regresion lineal
# compara la media con las propinas
print(sns.lmplot(x=&quot;total_bill&quot;,y=&quot;tip&quot;,data=propinas))
print(sns.lmplot(x=&quot;total_bill&quot;,y=&quot;tip&quot;,data=propinas, scatter_kws={&quot;marker&quot;: &quot;o&quot;,&quot;color&quot;:&quot;green&quot;},line_kws={&quot;color&quot;:&quot;blue&quot;}))

# agreamos otra columna mas a la tabla de propinas
propinas[&quot;porcentaje&quot;]= 100*propinas[&quot;tip&quot;]/propinas[&quot;total_bill&quot;]
print(propinas.head())
# creamos diagrama
print(sns.lmplot(x=&quot;size&quot;,y=&quot;porcentaje&quot;,data=propinas))
print(sns.lmplot(x=&quot;total_bill&quot;,y=&quot;porcentaje&quot;,data=propinas,hue=&quot;sex&quot;,markers=[&quot;x&quot;,&quot;o&quot;]))
</code></pre>
<p><img alt="" src="./images/histograma5.png" /><br />
<img alt="" src="../images/histograma6.png" /><br />
<img alt="" src="../images/histograma7.png" />  </p>
<ul>
<li>DIAGRAMA MAPA DE CALOR:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la libreria
import pandas as pd
import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt
import seaborn as sns

# para crear el grafico en estas pruebas
#%matplotlib inline

# MAPAS DE CALOR
vuelos = sns.load_dataset(&quot;flights&quot;)
print(vuelos.head())

# creamos una matriz con los datos:indice,columnas, valor
vuelos = vuelos.pivot(&quot;month&quot;,&quot;year&quot;,&quot;passengers&quot;)

# representacion sin o con valores
print(sns.heatmap(vuelos))
print(sns.heatmap(vuelos,annot=True,fmt=&quot;d&quot;))

# mirar un valor concreto
print(vuelos.loc[&quot;May&quot;][1956])#318
# hacer un mapa de calor ref valor concreto
valor = vuelos.loc[&quot;May&quot;][1956]
print(sns.heatmap(vuelos,center=valor,annot=True,fmt=&quot;d&quot;,cbar_kws={&quot;orientation&quot;:&quot;horizontal&quot;}))
</code></pre>
<p><img alt="" src="../images/histograma8.png" /><br />
<img alt="" src="../images/histograma9.png" />  </p>
<ul>
<li>EJERCICIO:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# importamos la libreria
import pandas as pd
import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt
import seaborn as sns

# para crear el grafico en estas pruebas
#%matplotlib inline

# CREAR UN ARRAY DE 100 NUMEROS ALEATORIOS DE 0-500
# CREAR UN DIAGRAMA DE CAJA
lista_valores = np.random.randint(0,500,100)
print(lista_valores)

print(sns.boxplot(data=lista_valores))
</code></pre>
<h2 id="proyectos-librerias">PROYECTOS LIBRERIAS</h2>
<h3 id="subasta">SUBASTA</h3>
<pre><code>#!/usr/bin/python3

# GESTIONAR UNA SUBASTA

# preguntar nombre y precio apuesta
# añadirlo a un diccionario
# borrar la pantalla
# preguntar si hay mas personas para esta apuesta (bucle hasta no)
# SI: repetir misma preguntas y añadir
# NO: mostrar la apuesta ganadora y fin del programa

# libreria para limpiar la pantalla
import os 

print(&quot;Bienvenidos a la SUBASTA de MIGUEL&quot;)

# creamos el diccionario
diccionario = {}

# funcionar calcular el ganador
def calcular_ganador(diccionario):
    max = 0
    ganador = &quot;&quot;
    for nombre in diccionario:
        precio = diccionario[nombre]
        if precio &gt; max:
            max = precio
            ganador = nombre
    print(f&quot;El ganador es {ganador} con apuesta de {max}&quot;)

# bucle para que mientras haya mas apuestas, siga preguntando y añadiendo
mas_subastas = True
while mas_subastas:
    precio = float(input(&quot;Escribe tu apuesta: &quot;))
    nombre = input(&quot;Escribe nombre: &quot;)
    diccionario[nombre]=precio

    pregunta = input(&quot;Hay mas apuesta? Escribe 'si' o 'no'&quot;).lower()
    if pregunta == &quot;si&quot;:
        os.system(&quot;clear&quot;)
    elif pregunta == &quot;no&quot;:
        mas_subastas = False
    else:
        print(&quot;Eleccion incorrecta&quot;)

# decimos ganador
os.system(&quot;clear&quot;)
calcular_ganador(diccionario)
</code></pre>
<h3 id="calculo-botes-de-pintura">CALCULO BOTES DE PINTURA</h3>
<pre><code>#!/usr/bin/python3

import random
import math
# CALCULO DE BOTES DE PINTA PARA PINTAR UNA PARED

# alto de la pared 
# ancho de la pared 
# cuantos metros cuadrados cubre un bote de pintura 
# calculo de (alto*ancho)/m2 que cubre cada bote 


print(&quot;Bienvenidos al calculo de botes de pintura&quot;)

# CON FUNCION
def calculo_pared(alto,ancho,superficie):
    botes = (alto*ancho)/superficie
    # redondea hacia arriba
    numero_botes = math.ceil(botes)
    return numero_botes

print(calculo_pared(3,4.5,1))

alto = float(input(&quot;Escribe cuanto tiene de alto la pared: &quot;))
ancho = float(input(&quot;Escribe cuantos tiene de ancho la pared: &quot;))
superficie = float(input(&quot;Escribe cuantos metros cuadrados cubre un bote de pintura: &quot;))

# botes = (alto*ancho)/superficie
numero_botes = calculo_pared(alto,ancho,superficie)
print(f&quot;Necesitas {numero_botes} botes de pintura para tu pared&quot;)
</code></pre>
<h3 id="calculadora-propinas">CALCULADORA PROPINAS</h3>
<pre><code>#!/usr/bin/python3

# JUEGO PARA CALCULADORA DE PROPINAS
# precio de la factura
# porcentaje de propina
# personas a repartir

print(&quot;Bienvenido a la calculadora de propinas&quot;)
factura = float(input(&quot;precio de la factura?&quot;))
propina = int(input(&quot;Cual es el porcentaje de propina a dejar?&quot;))
personas = int(input(&quot;Entre cuantas personas hay que repatir la factura?&quot;))

importe_propina = (factura*propina)/100
factura_total = round(factura + importe_propina,2)
reparto = factura_total/personas

print(&quot;El importe por persona es: &quot;, reparto)
</code></pre>
<h3 id="generador-contrasenas">GENERADOR CONTRASEÑAS</h3>
<pre><code>#!/usr/bin/python3

import random
# GENERADOR DE CONTRASEÑAS

# Pedir cuantas letras, numeros y simbolos necesitas

letras = [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;]
numeros = [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;]
simbolos = [&quot;!&quot;,&quot;#&quot;,&quot;@&quot;,&quot;$&quot;,&quot;&amp;&quot;]

print(&quot;Bienvenidos al generador de contraseñas&quot;)
numero_letras = int(input(&quot;Escribe cuantas letras quieres: &quot;))
numero_numeros = int(input(&quot;Escribe cuantos numeros quieres: &quot;))
numero_simbolos = int(input(&quot;Escribe cuantos simbolos quieres: &quot;))

lista = []

# por cada caracter que quiera, lo añadimos a la lista 
for letra in range(1, numero_letras+1):
    lista.append(random.choice(letras))

for letra in range(1, numero_numeros+1):
    lista.append(random.choice(numeros))

for letra in range(1, numero_simbolos+1):
    lista.append(random.choice(simbolos))   

# resultado de la lista
print(lista)

# ponemos la lista aleatoria
random.shuffle(lista)
print(lista)

# creamos la contraseña
password = &quot;&quot;
for caracter in lista:
    password = password + caracter

print(password)
</code></pre>
<h3 id="juego-de-preguntas">JUEGO DE PREGUNTAS</h3>
<pre><code>#!/usr/bin/python3

# JUEGO DE PREGUNTAS

print(&quot;Bienvenidos al juego de las preguntas&quot;)
respuesta1 = input(&quot;Quieres ir a la izquierda o derecha. Escribe 'izquieda' o 'derecha'. &quot;).lower()

if respuesta1 == &quot;izquierda&quot;:
    print(&quot;Respuesta fallida, has perdido. Vuelvelo a intentar&quot;)
elif respuesta1 != &quot;derecha&quot;:
    print(&quot;Has fallado, respuesta introducida invalida&quot;)
else:
    respuesta2 = input(&quot;Quieres ir a nadando o caminar. Escribe 'nadar' o 'caminar'. &quot;).lower()
    if respuesta2 == &quot;nadar&quot;:
        print(&quot;Respuesta fallida, has perdido. Vuelvelo a intentar&quot;)
    elif respuesta1 != &quot;caminar&quot;:
        print(&quot;Has fallado, respuesta introducida invalida&quot;)
    else:
        respuesta3 = input(&quot;Has llegado a una casa con tres puertas. Escribe 'rojo', 'verde' o 'azul'. &quot;).lower()
        if respuesta3 == &quot;rojo&quot; or respuesta3 == &quot;verde&quot;:
            print(&quot;Respuesta fallida, has perdido. Vuelvelo a intentar&quot;)
        elif respuesta1 != &quot;azul&quot;:
            print(&quot;Has fallado, respuesta introducida invalida&quot;)
        else:
            print(&quot;Enhorabuena, has ganado el juego!&quot;)
</code></pre>
<h3 id="piedra-papel-y-tijera">PIEDRA, PAPEL Y TIJERA</h3>
<pre><code>#!/usr/bin/python3

# JUEGO DE PIEDRA PAPEL Y TIJERA

# El usuario elije una opcion
# el ordenador una aleatoria

# resultado
# tijera gana a papel
# papel gana a piedra
# piedra gana a tijera

from random import randrange


print(&quot;Bienvenidos al juego de piedra, papel y tijera&quot;)
usuario = int(input(&quot;Escribe '0' piedra, '1' papel o '2' tijera: &quot;))
if usuario not in range(0,3):
    print(&quot;Numero no valido, vuelve a intentarlo..!&quot;)
else:
    ordenador = randrange(0,3)

print(&quot;El usuario ha elegido: &quot;, usuario)
print(&quot;El ordenador ha elegido: &quot;, ordenador)

if (usuario &gt; ordenador) or (usuario == 0 and ordenador == 2):
    print(&quot;El usuario ha ganado!!&quot;)
elif usuario == ordenador:
    print(&quot;ui...empate!&quot;)
else:
    print(&quot;El ordenador ha ganado, has perdido...!!&quot;)
</code></pre>
<h3 id="calculadora">CALCULADORA</h3>
<ul>
<li>Codigo para hacer una calculadora basica:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# CALCULADORA TKINDER  
from tkinter import *

# creamos la ventana general
ventana = Tk()
ventana.title(&quot;Calculadora&quot;)
ventana.geometry(&quot;420x600&quot;)
ventana.resizable(False,False)
ventana.configure(background=&quot;cyan&quot;)

# FUNCIONES
operacion = &quot;&quot;
resultado = StringVar()

def borrar():
    global operacion
    global resultado
    operacion = &quot;&quot;
    pantalla.delete(0,END)

def pulsar(valor):
    global operacion
    global resultado
    operacion = operacion + str(valor)
    pantalla.delete(0,END)
    pantalla.insert(0,operacion)

def calcular():
    global operacion
    global resultado
    try:
        resultado = str(eval(operacion)) #evalua el resultado
    except:
        resultado = &quot;Error&quot;
    finally:
        pantalla.delete(0,END) #borra todo del display
        pantalla.insert(0,resultado)

# creamos display de resultados: bloque donde se ponen los numeros
# para dividir en filas y columnas se usa grid(COLUMNAS 0,1,2...ROW 0,1,2)
pantalla = Entry(ventana,font=(&quot;arial&quot;,20,&quot;bold&quot;),borderwidth=2)
pantalla.grid(row=0,column=0,columnspan=3,pady=10,padx=5)

## boton de iniciar/borrar AC de la calculadora. cuando se aprete, borre todo el campo pantalla
boton_ac = Button(ventana,text=&quot;AC&quot;,width=8,height=2,command=lambda:borrar())
boton_ac.grid(row=0,column=3,pady=10)

## creamos los botones de numeros y signos de operaciones
ancho = 8
alto = 3
### fila1
boton1 = Button(ventana,text=&quot;1&quot;,width=ancho,height=alto,command=lambda:pulsar(1))
boton1.grid(row=1,column=0,pady=10,padx=5)
boton2 = Button(ventana,text=&quot;2&quot;,width=ancho,height=alto,command=lambda:pulsar(2))
boton2.grid(row=1,column=1,pady=10,padx=5)
boton3 = Button(ventana,text=&quot;3&quot;,width=ancho,height=alto,command=lambda:pulsar(3))
boton3.grid(row=1,column=2,pady=10,padx=5)
boton4 = Button(ventana,text=&quot;4&quot;,width=ancho,height=alto,command=lambda:pulsar(4))
boton4.grid(row=1,column=3,pady=10,padx=5)
### fila2
boton5 = Button(ventana,text=&quot;5&quot;,width=ancho,height=alto,command=lambda:pulsar(5))
boton5.grid(row=2,column=0,pady=10,padx=5)
boton6 = Button(ventana,text=&quot;6&quot;,width=ancho,height=alto,command=lambda:pulsar(6))
boton6.grid(row=2,column=1,pady=10,padx=5)
boton7 = Button(ventana,text=&quot;7&quot;,width=ancho,height=alto,command=lambda:pulsar(7))
boton7.grid(row=2,column=2,pady=10,padx=5)
boton8 = Button(ventana,text=&quot;8&quot;,width=ancho,height=alto,command=lambda:pulsar(8))
boton8.grid(row=2,column=3,pady=10,padx=5)
### fila3
boton9 = Button(ventana,text=&quot;9&quot;,width=ancho,height=alto,command=lambda:pulsar(9))
boton9.grid(row=3,column=0,pady=10,padx=5)
boton0 = Button(ventana,text=&quot;0&quot;,width=ancho,height=alto,command=lambda:pulsar(0))
boton0.grid(row=3,column=1,pady=10,padx=5)
boton_punto = Button(ventana,text=&quot;.&quot;,width=ancho,height=alto,command=lambda:pulsar(&quot;.&quot;))
boton_punto.grid(row=3,column=2,pady=10,padx=5)
boton_suma = Button(ventana,text=&quot;+&quot;,width=ancho,height=alto,command=lambda:pulsar(&quot;+&quot;))
boton_suma.grid(row=3,column=3,pady=10,padx=5)
### fila4
boton_resta = Button(ventana,text=&quot;-&quot;,width=ancho,height=alto,command=lambda:pulsar(&quot;-&quot;))
boton_resta.grid(row=4,column=0,pady=10,padx=5)
boton_multiplicar = Button(ventana,text=&quot;*&quot;,width=ancho,height=alto,command=lambda:pulsar(&quot;*&quot;))
boton_multiplicar.grid(row=4,column=1,pady=10,padx=5)
boton_division = Button(ventana,text=&quot;/&quot;,width=ancho,height=alto,command=lambda:pulsar(&quot;/&quot;))
boton_division.grid(row=4,column=2,pady=10,padx=5)
boton_igual = Button(ventana,text=&quot;=&quot;,width=ancho,height=alto,command=lambda:calcular())
boton_igual.grid(row=4,column=3,pady=10,padx=5)


# se guarde todo
ventana.mainloop()
</code></pre>
<p><img alt="" src="../images/calculadora.png" />  </p>
<h3 id="analisis-datos-sqllite">ANALISIS DATOS SQLLITE</h3>
<ul>
<li>cogemos un fichero zip, lo descomprimimos y analisis de datos con sqlLite y hacemos consultas:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# ANALISIS DE DATOS CON SQLLITE
# cogemos un fichero zip, lo descomprimimos y analisis de datos con sqlLite y hacemos consultas

# IMPORTAMOS LIBRERIAS
import sys
from zipfile import ZipFile
import pandas as pd
import numpy as np
import sqlite3  
from os import remove

# VARIABLES
basedatos = &quot;coches.bd&quot;


# FUNCIONES

# consulta de datos en la bbdd
def consulta_coches(conexion):
    cursor = conexion.cursor()
    cursor.execute(&quot;SELECT * FROM coches LIMIT 20&quot;)
    filas = cursor.fetchall()
    for fila in filas:
        print(fila)

def consulta_coches2(conexion):
    cursor = conexion.cursor()
    cursor.execute(&quot;SELECT COUNT(*) FROM coches&quot;)
    numero_coches = cursor.fetchall()
    return numero_coches[0][0]

def consulta_coches3(conexion):
    cursor = conexion.cursor()
    cursor.execute(&quot;SELECT SUM(precio) FROM coches&quot;)
    numero_coches = cursor.fetchall()
    return numero_coches[0][0]

# borrar datos
def borrar_datos():
    try:
        remove(basedatos)
    except FileNotFoundError:
        pass

# insertar tabla
def insertar_tabla_coches(conexion,coche):
    cursor = conexion.cursor()
    cursor.execute('INSERT INTO coches(marca,modelo,combustible,transmision,estado,matriculacion,kilometraje,potencia,precio) VALUES(?,?,?,?,?,?,?,?,?)',coche)
    conexion.commit()

# funcion para meter el contenido dentro de la tabla
def crear_informacion(conexion,datos):
    for fila in datos.itertuples():
        marca = fila[1]
        modelo = fila[2]
        combustible = fila[3]
        transmision = fila[4]
        estado = fila[5]
        matriculacion = fila[6]
        kilometraje = fila[7]
        potencia = fila[8]
        precio = fila[9]
        # crea tupla
        coche = (marca,modelo,combustible,transmision,estado,matriculacion,kilometraje,potencia,precio)
        insertar_tabla_coches(conexion,coche)

# metodo para descomprimir un fichero
def descomprimir_fichero(file):
    with ZipFile(file,'r') as zip:
        zip.extractall()

# datos csv en pandas para poder leer
def leer_datos(file):
    datos = pd.read_csv(file,sep=&quot;;&quot;)
    return datos

# crear tabla en sqllite con los nombres de columnas tabla
def crear_tabla(conexion):
    cursor = conexion.cursor()
    cursor.execute(&quot;CREATE TABLE coches (marca TEXT, modelo TEXT, combustible TEXT, transmision TEXT, estado TEXT, matriculacion TEXT, kilometraje INT, potencia REAL, precio REAL)&quot;)
    conexion.commit()

# crear conexion bbdd sql
def crear_conexion_bd():
    try:
        conexion = sqlite3.connect(basedatos)
        return conexion
    except:
        print(&quot;Error!!&quot;)

# PROGRAMA
# verificar que estamos en el principal
if __name__ == '__main__':
    # verificamos numero de argumentos:
    if len(sys.argv) !=2:
        print(&quot;Error, numero de parametros. USAGE: prog.py arg&quot;)
    else:
        # nombre del fichero
        nombre_fichero = sys.argv[1]
        print(nombre_fichero)
        # descomprimimos zip
        descomprimir_fichero(nombre_fichero)
        # borramos la bbdd si se ha creado por pruebas
        borrar_datos()
        # leemos los datos del fichero csv
        datos = leer_datos(nombre_fichero)
        print(datos)
        # creamos bbdd y nos conectamos
        conexion = crear_conexion_bd()
        # creamos la tabla
        crear_tabla(conexion)
        # creamos el contenido de la tabla
        crear_informacion(conexion,datos)
        # hacemos una consulta de la tabla
        consulta_coches(conexion)
        # consulta de numero de coches
        numero = consulta_coches2(conexion)
        print(&quot;numero total de coches es de: &quot;,numero)
        # consulta suma total de precios
        precio = consulta_coches3(conexion)
        print(&quot;precio total es de: &quot;,precio)
</code></pre>
<ul>
<li>Hacemos un test de prueba de nuestro programa:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# libreria para test automatizados
import unittest
from analisis_datosSQL import *

# fichero a testear
nombre_fichero = &quot;coches.csv&quot;

# creamos la prueba del numero total de coches que hay en la tabla
class test_numero_coches_tabla(unittest.TestCase):
    def test(self):
        borrar_datos()
        datos = leer_datos(nombre_fichero)
        # creamos bbdd y nos conectamos
        conexion = crear_conexion_bd()
        # creamos la tabla
        crear_tabla(conexion)
        # creamos el contenido de la tabla
        crear_informacion(conexion,datos)
        # consulta de numero de coches
        numero = consulta_coches2(conexion)
        self.assertEqual(2780,numero)

class test_numero_precio_total(unittest.TestCase):
    def test2(self):
        borrar_datos()
        datos = leer_datos(nombre_fichero)
        # creamos bbdd y nos conectamos
        conexion = crear_conexion_bd()
        # creamos la tabla
        crear_tabla(conexion)
        # creamos el contenido de la tabla
        crear_informacion(conexion,datos)
        # consulta de numero de coches
        precio = consulta_coches3(conexion)
        self.assertEqual(38997136.0,precio)


# ejecutar en modo principal
if __name__ == '__main__':
    unittest.main()
</code></pre>
<ul>
<li>Resultados:  </li>
</ul>
<pre><code>[miguel@fedora proyectos]$ python3 test_coches.py 
..
----------------------------------------------------------------------
Ran 2 tests in 18.003s

OK
</code></pre>
<h3 id="biblioteca">BIBLIOTECA</h3>
<p><img alt="" src="../images/libros.png" />  </p>
<ul>
<li>
<p>Se puede generar un ejecutable del programa con <code>pip3 install pyinstaller</code> y lo hacemos con <code>pyinstaller biblioteca.py --onefile --windowed</code> </p>
</li>
<li>
<p>Parte visual con tkinter:  </p>
</li>
</ul>
<pre><code>#!/usr/bin/python3

# librerias
import random
from tkinter import *
import biblioteca_bbdd

# BIBLIOTECA
# AÑADIR A UNA BASE DE DATOS LIBROS Y PODER CONSULTARLOS

# funciones para los botones
def comando_visualizar():
    lista.delete(0,END)
    lista_libros = biblioteca_bbdd.visualizar()
    for libro in lista_libros:
        lista.insert(END,libro)

def comando_buscar():
    lista.delete(0,END)
    lista_libros = biblioteca_bbdd.buscar(titulo.get(),autor.get(),year.get(),isbn.get())
    for libro in lista_libros:
        lista.insert(END,libro)

def comando_insertar():
    biblioteca_bbdd.insertar(titulo.get(),autor.get(),year.get(),isbn.get())
    lista.delete(0,END)
    lista.insert(END,(titulo.get(),autor.get(),year.get(),isbn.get()))


def recoger_fila_seleccionada(event):
    try:
        global libro_seleccionado
        indice = lista.curselection()[0]
        # cogemeos del libro seleccionado los campos menos el indice
        libro_seleccionado = lista.get(indice)
        entrada1.delete(0,END)
        entrada1.insert(END,libro_seleccionado[1])
        entrada2.delete(0,END)
        entrada2.insert(END,libro_seleccionado[2])
        entrada3.delete(0,END)
        entrada3.insert(END,libro_seleccionado[3])
        entrada4.delete(0,END)
        entrada4.insert(END,libro_seleccionado[4])
    except IndexError:
        pass

def comando_actualizar():
    biblioteca_bbdd.actualizar(titulo.get(),autor.get(),year.get(),isbn.get(),libro_seleccionado[0])
    lista.delete(0,END)
    lista.insert(END,&quot;Libro actualizado correctamente&quot;)


def comando_borrar():
    biblioteca_bbdd.borrar(libro_seleccionado[0])
    lista.delete(0,END)
    lista.insert(END,&quot;Libro actualizado correctamente&quot;)

def comando_cerrar():
    ventana.destroy()

# creamos la ventana general
ventana = Tk()
ventana.title(&quot;Almacen de libros&quot;)

# creamos las etiquetas
etiqueta1 = Label(ventana,text=&quot;Titulo&quot;)
etiqueta1.grid(row=0,column=0)
etiqueta2 = Label(ventana,text=&quot;Autor&quot;)
etiqueta2.grid(row=0,column=2)
etiqueta3 = Label(ventana,text=&quot;Año&quot;)
etiqueta3.grid(row=1,column=0)
etiqueta4 = Label(ventana,text=&quot;ISBN&quot;)
etiqueta4.grid(row=1,column=2)

# creamos los campos de datos de las etiquetas
titulo = StringVar()
entrada1 = Entry(ventana,textvariable=titulo)
entrada1.grid(row=0,column=1)
autor = StringVar()
entrada2 = Entry(ventana,textvariable=autor)
entrada2.grid(row=0,column=3)
year = StringVar()
entrada3 = Entry(ventana,textvariable=year)
entrada3.grid(row=1,column=1)
isbn = StringVar()
entrada3 = Entry(ventana,textvariable=isbn)
entrada3.grid(row=1,column=3)

# lista y scrollbar
lista =Listbox(ventana,height=8,width=25)
lista.grid(row=2,column=0,rowspan=6) #rowspan aumenta 6 filas la expansion de la caja de texto
scrollbar = Scrollbar(ventana)
scrollbar.grid(row=2,column=2,rowspan=6)
# colocamos el borde de la caja
lista.configure(yscrollcommand=scrollbar.set)
scrollbar.configure(command=lista.yview)


# incluimos un evento a la lista
lista.bind('&lt;&lt;ListboxSelect&gt;&gt;',recoger_fila_seleccionada)

# creamos los botones
boton1 = Button(ventana,text=&quot;Visualizar&quot;,width=12,command=comando_visualizar)
boton1.grid(row=2,column=3)
boton2 = Button(ventana,text=&quot;Buscar&quot;,width=12,command=comando_buscar)
boton2.grid(row=3,column=3)
boton3 = Button(ventana,text=&quot;Añadir&quot;,width=12,command=comando_insertar)
boton3.grid(row=4,column=3)
boton4 = Button(ventana,text=&quot;Actualizar&quot;,width=12,command=comando_actualizar)
boton4.grid(row=5,column=3)
boton5 = Button(ventana,text=&quot;Borrar&quot;,width=12,command=comando_borrar)
boton5.grid(row=6,column=3)
boton6 = Button(ventana,text=&quot;Cerrar&quot;,width=12,command=comando_cerrar)
boton6.grid(row=7,column=3)

# se guarde todo
ventana.mainloop()
</code></pre>
<ul>
<li>Parte base de datos con sqllite:  </li>
</ul>
<pre><code>#!/usr/bin/python3

import sqlite3

# funcion para conectar y crear bbdd y su tabla
def conectar():
    conexion = sqlite3.connect(&quot;libros.db&quot;)
    cursor = conexion.cursor()
    cursor.execute(&quot;CREATE TABLE IF NOT EXISTS libros(id INTEGER PRIMARY KEY, titulo TEXT, autor TEXT, year INTEGER, isbn INTEGER)&quot;)
    conexion.commit()
    conexion.close()


# funcionar para insertar datos
def insertar(titulo,autor,year,isbn):
    conexion = sqlite3.connect(&quot;libros.db&quot;)
    cursor = conexion.cursor()
    cursor.execute(&quot;INSERT INTO libros VALUES(NULL,?,?,?,?)&quot;,(titulo,autor,year,isbn))
    conexion.commit()
    conexion.close()

# visualizar los parametros
def visualizar():
    conexion = sqlite3.connect(&quot;libros.db&quot;)
    cursor = conexion.cursor()
    cursor.execute(&quot;SELECT * FROM libros&quot;)
    consulta = cursor.fetchall()
    conexion.close()
    return consulta

# funcion para buscar libro
def buscar(titulo=&quot;&quot;,autor=&quot;&quot;,year=0,isbn=0):
    conexion = sqlite3.connect(&quot;libros.db&quot;)
    cursor = conexion.cursor()
    cursor.execute(&quot;SELECT * FROM libros WHERE titulo=? OR autor=? OR year=? OR isbn=?&quot;,(titulo,autor,year,isbn))
    consulta = cursor.fetchall()
    conexion.close()
    return consulta

# borrar un libro
def borrar(id):
    conexion = sqlite3.connect(&quot;libros.db&quot;)
    cursor = conexion.cursor()
    cursor.execute(&quot;DELETE FROM libros WHERE id=?&quot;,(id,))
    conexion.commit()
    conexion.close()

# actualizar un libro
def actualizar(titulo,autor,year,isbn,id):
    conexion = sqlite3.connect(&quot;libros.db&quot;)
    cursor = conexion.cursor()
    cursor.execute(&quot;UPDATE libros SET titulo=?, autor=?, year=?, isbn=? WHERE id=?&quot;,(titulo,autor,year,isbn,id))
    conexion.commit()
    conexion.close()

# PRUEBAS
conectar()
# insertar(&quot;titulo1&quot;,&quot;autor1&quot;,2001,1111111111)
# insertar(&quot;titulo2&quot;,&quot;autor2&quot;,2002,2222222222)
# insertar(&quot;titulo3&quot;,&quot;autor3&quot;,2003,3333333333)
print(&quot;VISUALIZAR&quot;)
consultas = visualizar()
for consulta in consultas:
    print(consulta)
print(&quot;BUSQUEDA POR TITULO&quot;)
busqueda = buscar(titulo=&quot;titulo1&quot;)
for x in busqueda:
    print(x)
print(&quot;BORRAR POR TITULO&quot;)
#borrar(3)
print(&quot;VISUALIZAR&quot;)
consultas = visualizar()
for consulta in consultas:
    print(consulta)
print(&quot;ACTUALIZAR UN LIBRO&quot;)
actualizar(titulo=&quot;titulo5&quot;,autor=&quot;autor5&quot;,year=2005,isbn=5555555,id=2)
consultas = visualizar()
for consulta in consultas:
    print(consulta)
</code></pre>
<h3 id="blackjack">BLACKJACK</h3>
<ul>
<li>Juego de blackjack donde se reparten dos cartas y han de sumar 21:  </li>
</ul>
<pre><code>#!/usr/bin/python3

# librerias
import random
import replit

# PROGRAMA BLACKJACK
## llegar a 21

# FUNCIONES

def generar_carta():
    cartas = [11,2,3,4,5,6,7,8,9,10,10,10]
    carta = random.choice(cartas)
    return carta

print(generar_carta())

def calcular_suma(cartas):
    # sum suma los valores de la lista
    if sum(cartas) == 21 and len(cartas) == 2:
        return 0
    if 11 in cartas and sum(cartas) &gt; 21:
        cartas.remove(11)
        cartas.append(1)
    return sum(cartas)

print(calcular_suma([4,5,6]))

def mostrar_ganador(marcador_usuario,marcador_ordenador):
    if marcador_usuario == marcador_ordenador:
        texto = &quot;Empate&quot;
    elif marcador_ordenador == 0:
        texto = &quot;Has perdido, el PC tiene 21 - Blackjack&quot;
    elif marcador_usuario == 0:
        texto = &quot;Has ganado, tienes 21 - Blackjack&quot;
    elif marcador_usuario &gt; 21:
        texto = &quot;Has perdido, tus cartas suman mas de 21&quot;
    elif marcador_ordenador &gt; 21:
        texto = &quot;Has ganado, las cartas del PC suman mas de 21&quot;
    elif marcador_usuario &gt; marcador_ordenador:
        texto = &quot;Has ganado!&quot;
    else:
        texto = &quot;Has perdido&quot;
    return texto

print(mostrar_ganador(21,20))

def jugar():
    print(&quot;Estamos jugando...&quot;)
    cartas_usuario = []
    cartas_ordenador = []
    finalizado = False
    # hacemos el reparto de dos cartas para jugar
    for reparto in range(2):
        carta = generar_carta()
        cartas_usuario.append(carta)
        carta2 = generar_carta()
        cartas_ordenador.append(carta2)
    print(f&quot;Cartas usuario: {cartas_usuario}&quot;)
    print(f&quot;Cartas pc: {cartas_ordenador}&quot;)

    while not finalizado:
        marcador_usuario = calcular_suma(cartas_usuario)
        marcador_ordenador = calcular_suma(cartas_ordenador)
        print(f&quot;Cartas usuario: {marcador_usuario}&quot;)
        print(f&quot;Cartas pc: {marcador_ordenador}&quot;)
        # miramos resultados para finalizar juego
        if marcador_usuario == 0 or marcador_ordenador == 0 or marcador_usuario&gt;21:
            finalizado = True
        else:
            mas_cartas = input(&quot;Quieres mas cartas? Escribe si o no: &quot;)
            if mas_cartas == 'si':
                carta = generar_carta()
                cartas_usuario.append(carta)
            else:
                finalizado = True
    while marcador_ordenador !=0 and marcador_ordenador &lt; 17:
        carta_extra = generar_carta()
        cartas_ordenador.append(carta_extra)
        marcador_ordenador = calcular_suma(cartas_ordenador)
    print(f&quot;Cartas usuario: {cartas_usuario}&quot;)
    print(f&quot;Cartas pc: {cartas_ordenador}&quot;)
    print(f&quot;Cartas usuario: {marcador_usuario}&quot;)
    print(f&quot;Cartas pc: {marcador_ordenador}&quot;)
    # mostramos ganador
    ganador = mostrar_ganador(marcador_usuario,marcador_ordenador)
    print(ganador)

# Programa
while input(&quot;¿Quieres jugar al Blacjack? Escribre 'si' o 'no': &quot;).lower() == 'si':
    replit.clear()
    jugar()
</code></pre>
<h2 id="selenium-web-driver">SELENIUM WEB DRIVER</h2>
<ul>
<li>
<p>Es una herramienta que sirve para automatizar pruebas de testing en navegadores web.</p>
</li>
<li>
<p>No se instala de manera nativa, sino en un IDE se corre como PyCharm.  </p>
</li>
<li>
<p>Multiplataforma.  </p>
</li>
<li>
<p>No tiene soporte, solo es para navegadores web.  </p>
</li>
</ul>
<h3 id="pycharm">PyCharm</h3>
<ul>
<li>
<p><a href="https://www.jetbrains.com/es-es/pycharm/">PyCharm</a> es este famoso IDE que además cuenta con una versión para las distribuciones Gnu/Linux, lo que hace que sea más sencillo aún su utilización y creación de programas con este lenguaje de programación.PyCharm es un IDE, es decir, no solo es un editor de código sino que también tiene un depurador, un interprete y otras herramientas que nos ayudarán a crear y exportar los programas que creemos. PyCharm tiene un interprete en el editor de código que nos ayudará a saber o conocer los posibles errores del código en tiempo real, algo que ha hecho que Python y PyCharm sean elegidos por muchos usuarios que comienzan a programar.  </p>
</li>
<li>
<p>IDE: Un entorno de desarrollo integrado​​ o entorno de desarrollo interactivo, en inglés Integrated Development Environment, es una aplicación informática que proporciona servicios integrales para facilitarle al desarrollador o programador el desarrollo de software.  </p>
</li>
<li>
<p>Instalamos pycharm desde la web indicada, extraemos el tar e inicimos desde el directorio bin con <code>./pycharm.sh</code>.  </p>
</li>
</ul>
<h3 id="selenium">Selenium</h3>
<ul>
<li>
<p>Para poder usar <a href="https://www.selenium.dev/documentation/">Selenium</a> en pycharm tenemos que instalarlo en la <a href="https://www.selenium.dev/downloads/">web selenium</a> y luego instalar la version de python. Instalamos con <code>pip install selenium</code> dentro de la terminal de pycharm.  </p>
</li>
<li>
<p>Ahora necesitamos instalar drivers de <a href="https://www.selenium.dev/downloads/">selenium</a>. En este caso vamos a instalar el del navegador de <a href="https://chromedriver.chromium.org/">google chrome</a> pero todos se instalan del mismo modo.  </p>
</li>
<li>
<p>Una vez nos bajamos el zip de chrome, descomprimimos, copiamos el chromedriver.exe, vamos a pycharm y boton derecho a nuestro proyecto y creamos un python file de prueba. Despues de nuevo creamos un package file de nombre drivers y dentro de el, boton derecho y pegamos el driver. Ya solo tendremos que descargar los navegadores que queramos y peguemos en esta carpeta los ficheros ejecutables de drivers.  </p>
</li>
<li>
<p>Ahora hay que hacer un pequeño script para ver que todo esto funcione de pycharm con selenium en el navegador: </p>
</li>
</ul>
<pre><code># importamos la implementacion que crea una instancia para conectarse a un navegador
from selenium import webdriver
from selenium.webdriver.common.by import By
# importamos libreria time
import time

# llamamos al driver y su path para abrir chrome (mejor llamar desde ruta original)
#driver = webdriver.Chrome(executable_path=&quot;Drivers/chromedriver&quot;)
controlador = webdriver.Chrome(executable_path=r&quot;/home/miguel/Downloads/chromedriver_linux64/chromedriver&quot;)

# maximiza la ventana total del navegador
controlador.maximize_window()

# metodo get nos indica la url a la que conectarnos
controlador.get(&quot;https://www.udemy.com/join/login-popup/?locale=es_ES&amp;response_type=html&amp;next=https%3A%2F%2Fwww.udemy.com%2Fjoin%2Flogin-popup%2F%3Flocale%3Des_ES%26response_type%3Dhtml%26next%3Dhttps%253A%252F%252Fwww.udemy.com%252Fes%252F%253Futm_source%253Dadwords-brand%2526utm_medium%253Dudemyads%2526utm_campaign%253DNEW-AW-PROS-Branded-Search-SP-SPA_._ci__._sl_SPA_._vi__._sd_All_._la_SP_._%2526tabei%253D7%2526utm_term%253D_._ag_53604040718_._ad_254061738916_._de_c_._dm__._pl__._ti_kwd-357002749620_._li_1005424_._pd__._%2526gclid%253DCj0KCQjw-uH6BRDQARIsAI3I-Ud3hC1QNzFFLCPuZ6H6BbB4sNh5StLf3qvjF1S-mVR0WaM8fs7gOeEaAr_HEALw_wcB%2526persist_locale%253D%2526locale%253Des_ES&quot;)

# inspeccionamos el codigo fuente del udemy y vamos a la seccion de usuario/password y cppiamos el id
usuario = controlador.find_element(By.ID, &quot;email--1&quot;)
password = controlador.find_element(By.ID, &quot;id_password&quot;)

# ingresaremos los datos directamente. Ponemos un tiempo para ver resultados.
usuario.send_keys(&quot;dfdflujogramas@gmail.com&quot;)
time.sleep(1)
password.send_keys(&quot;12345678910&quot;)
time.sleep(1)

# ahora inspeccionamos el boton de iniciar sesion y su id. Despues clicamos
boton = controlador.find_element(By.ID, &quot;submit-id-submit&quot;)
boton.click()
time.sleep(3)

# cerramos
controlador.quit()
</code></pre>
<h3 id="xpath">XPATH</h3>
<ul>
<li>
<p>Sirve para extraer informacion xhtml en las webs a través de componentes y etiquetas segun su ubicacion.  </p>
</li>
<li>
<p>Añadimos la extension <a href="https://chrome.google.com/webstore/detail/chropath/ljngjbnaijcbncmcnjfhigebomdlkcjo">CROPATH</a>  </p>
</li>
<li>
<p>Ejemplos (//etiqueta[@atributo="valor"])</p>
<ul>
<li>//div[@data-purpose='lecture-title']</li>
</ul>
</li>
<li>
<p>Ejemplo con selenium en pycharm ruta relativa:  </p>
</li>
</ul>
<pre><code>from selenium import webdriver
from selenium.webdriver.common.by import By
import time

driver = webdriver.Chrome(executable_path=&quot;Drivers/chromedriver.exe&quot;)
driver.get(&quot;https://www.udemy.com/join/login-popup/?skip_suggest=1&amp;locale=es_ES&amp;next=https%3A%2F%2Fwww.udemy.com%2Fmobile%2Fipad%2F&amp;response_type=html&quot;)
time.sleep(1)

usuario = driver.find_element(By.XPATH,&quot;//input[@id='email--1'])
usuario.send_keys(&quot;dfdflujogramas@gmail.com&quot;)
time.sleep(1)

clave = driver.find_element(By.XPATH,&quot;//input[@name='password']&quot;)
clave.send_keys(&quot;12345678910&quot;)
time.sleep(1)

boton = driver.find_element(By.XPATH,&quot;//input[@name='submit']&quot;)
boton.click()
time.sleep(5)

driver.quit()
</code></pre>
<ul>
<li>Ejemplo con selenium en pycharm ruta absoluta:</li>
</ul>
<pre><code>from selenium import webdriver
from selenium.webdriver.common.by import By
import time

driver = webdriver.Chrome(executable_path=&quot;Drivers/chromedriver.exe&quot;)
driver.get(&quot;https://www.udemy.com/join/login-popup/?skip_suggest=1&amp;locale=es_ES&amp;next=https%3A%2F%2Fwww.udemy.com%2Fmobile%2Fipad%2F&amp;response_type=html&quot;)
time.sleep(1)

usuario = driver.find_element(By.XPATH,&quot;html[1]/body[1]/div[1]/div[2]/div[1]/div[3]/form[1]/div[1]/div[1]/div[1]/input[1]&quot;)
usuario.send_keys(&quot;dfdflujogramas@gmail.com&quot;)
time.sleep(1)

clave = driver.find_element(By.XPATH,&quot;/html[1]/body[1]/div[1]/div[2]/div[1]/div[3]/form[1]/div[1]/div[2]/div[1]/input[1]&quot;)
clave.send_keys(&quot;12345678910&quot;)
time.sleep(1)

boton = driver.find_element(By.XPATH,&quot;//input[@name='submit']&quot;)
boton.click()
time.sleep(5)

driver.quit()
</code></pre>
<ul>
<li>SELECTORES DE CSS(MODO CSS EN INSPECCIONAR ELEMENTOS):  </li>
</ul>
<pre><code>NORMALES
clave = driver.find_element(By.CSS_SELECTOR,&quot;input[@name='password']&quot;)
ID
boton = driver.find_element(By.CSS_SELECTOR,&quot;input#submit-id-submit&quot;)
CLASS
boton = driver.find_element(By.CSS_SELECTOR,&quot;input.btn-primary&quot;)

</code></pre>
<h2 id="turtle">TURTLE</h2>
<ul>
<li>
<p>Es un modulo de Python utilizado para enseñar programacion a través de coordenadas relativas(X,Y).  </p>
</li>
<li>
<p>El objeto a programar recibe el nombre de TORTUGA.  </p>
</li>
</ul>
<h3 id="comandos-basicos">Comandos basicos:</h3>
<pre><code>#!/usr/bin/python
# importamos la libreria turtle
import turtle

# creamos la pantalla
s = turtle.Screen()

# color de la pantalla
s.bgcolor(&quot;red&quot;)
# nombre de la pestaña
s.title(&quot;Proyecto basicos turtle&quot;)

# necesitamos el objeto, la tortuga a dibujar
t = turtle.Turtle()
# personalizamos la tortuga forma,color,tinta,etc
t.shape(&quot;turtle&quot;) # arrow, triangle, classic, circle
t.shapesize(2,2,1)
t.fillcolor(&quot;orange&quot;)
t.pencolor(&quot;white&quot;)
t.color(&quot;green&quot;,&quot;blue&quot;) # borde y relleno
t.pensize(5)

# rellenar figuras
t.begin_fill()
t.color(&quot;white&quot;,&quot;blue&quot;) # borde/tinta y relleno
t.circle(100)
t.end_fill()

# dar velocidad a la tortuga (1-10)
t.speed(1)

# dar movimientos a la tortuga
t.backward(100)
t.right(90)
t.forward(100)
t.left(90)
t.forward(100)

# dar movimiento sin pintar
t.penup()
t.forward(50)
t.pendown()
t.forward(50)

# hacer un retroceso
t.undo()

# limpiar pantalla y resetear posicion
t.clear()
t.reset()

# dejar una marca como sello y seguir
t.forward(100)
t.stamp()
t.forward(100)

# movimiento perpendiculares
t.goto(100,100)
t.goto(-100,100)
t.goto(0,0) # == t.home())

# movimientos de formas
t.circle(50) #circulo diametro
t.dot(30) #punto y diametro

# esconder y mostrar de nuevo la tortuga dibujando
t.hideturtle()
t.circle(50)
t.showturtle()
t.circle(30)

# movilizar la tortuga
t.setx(100)
t.sety(-10)

# para que se quede la pantalla todo el rato
turtle.done()

# dar movimientos a la tortuga con un cuadrado
t.forward(100)
t.right(90)
t.forward(100)
t.right(90)
t.forward(100)
t.right(90)
t.forward(100)

# cuadrado automatizado
t.color(&quot;red&quot;,&quot;blue&quot;)
for i in range(4):
    t.forward(100)
    t.right(90)

# dar movimientos con un circulo
t.color(&quot;blue&quot;,&quot;yellow&quot;)
t.circle(100)
t.circle(80)
t.circle(60)
t.circle(40)
t.circle(20)

# circulo automatizado
resultado = input(&quot;Quieres dibujar?: &quot;)
t.color(&quot;red&quot;,&quot;blue&quot;)
if resultado == &quot;si&quot;:
    while i&lt;=100:
        t.circle(i)
        i+=20
else:
    print(&quot;No quieres dibujar...:(&quot;)
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../java/" class="btn btn-neutral float-right" title="Java">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../gitlab/" class="btn btn-neutral" title="Gitlab"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../gitlab/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../java/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
